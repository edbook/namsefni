<!DOCTYPE html>
<html class="writer-html5" lang="is" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1 Verkefni: Annars stigs jafna &mdash; Fyrirlestrarnótur um Python 2021</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/python.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/edbook.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon_2.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js"></script>
        <script src="../_static/translations.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>

<!-- hoverrole.py css code -->
<style type="text/css">
    a.tooltip {
        outline: none;
        border-bottom: thin dotted;
        background: #ffeedd
    }

    a.tooltip strong {
        line-height: 30px;
    }

    a.tooltip:hover {
        text-decoration: none;
    }

    a.tooltip span {
        z-index: 10;
        display: none;
        padding: 14px 20px;
        margin-top: -30px;
        margin-left: 12px;
        width: 310px;
        line-height: 16px;
    }

    a.tooltip:hover span {
        display: inline;
        position: absolute;
        color: #111;
        border: 1px solid #DCA;
        background: #fffAF0;
    }

    .callout {
        z-index: 20;
        position: absolute;
        top: 30px;
        border: 0;
        left: -12px;
    }

    /*CSS3*/
    a.tooltip span {
        border-radius: 4px;
        box-shadow: 5px 5px 8px #CCC;
    }
</style>
<!-- End hoverrole.py css code -->

<style type="text/css">
    .sagecell .CodeMirror-scroll {
        overflow-y: hidden;
        overflow-x: auto;
    }

    .sagecell .CodeMirror {
        height: auto;
    }

    /* - Begin equation reference style - */
    h6.eqno {
        display: inline-block;
        padding-left: 10px;
    }

    h6 .headerlink {
        display: inline-block !important;
    }

    h6 .headerlink:after {
        visibility: hidden !important;
    }

    h6 .headerlink:hover:after {
        visibility: visible !important;
    }

    .eqno:hover>.headerlink:after {
        visibility: visible !important;
    }

    table>caption>.headerlink {
        visibility: hidden !important;
    }

    table>caption>.headerlink {
        visibility: hidden !important;
    }

    /* - End - */
</style>
<style type="text/css">
    /* .ace_content .ace_layer .ace_line_group .ace_line * { */
    /*     font-size: 15px !important; */
    /* } */
    /* div[class^='highlight'] pre {font-size:15px} */
    div.code-block-caption {
        margin-bottom: 4px
    }
</style>

    <link rel="index" title="Atriðaskrá" href="../genindex/" />
    <link rel="search" title="Leit" href="../search/" />
    <link rel="prev" title="V E R K E F N I" href="../verkefnafyrirsogn/" />



<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> -->
<script type="text/javascript" src="https://cdn.geogebra.org/apps/deployggb.js"></script>


 

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            Fyrirlestrarnótur um Python
              <img src="../_static/haskoli_islands-edbook.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2021
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../kafli01/">1  Inngangur: Um Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli02/">2  Dæmi um Python forrit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli03/">3  Umhverfi fyrir Python: Jupyter og Colab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli04/">4  Grunnatriði Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli05/">5  Söfn: Eitt nafn en mörg gildi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli06/">6  Helstu aðgerðir fyrir söfn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli07/">7  Uppflettitöflur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli08/">8  Skrár</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli09/">9  Teikning með Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli10/">10  NumPy pakkinn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli11/">11  Reiknað með fylkjum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli12/">12  Dæmi um hagnýtingu fylkjareikninga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli13/">13  Slembitölur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli14/">14  Millikafli: Um reiknifræði og gagnavísindi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli15/">15  Pandas</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../verkefnafyrirsogn/">V E R K E F N I</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1  Verkefni: Annars stigs jafna</a></li>
<li class="toctree-l2"><a class="reference internal" href="#toluleg-heildun">2  Töluleg heildun</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ymis-daemi">3  Ýmis dæmi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oraleikur">4  Orðaleikur</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kvaratrot">5  Kvaðratrót</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mealtal-og-staalfravik">6  Meðaltal og staðalfrávik</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boluroun">7  Bóluröðun</a></li>
<li class="toctree-l2"><a class="reference internal" href="#polhnit">8  Pólhnit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#innsetningarroun-og-pythontutor">9  Innsetningarröðun og Pythontutor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#toluleg-diffrun">10  Töluleg diffrun</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uppflettitafla-afturabak">11  Uppflettitafla afturábak</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell-roun">12  Shell-röðun</a></li>
<li class="toctree-l2"><a class="reference internal" href="#skra-me-islenskum-orum">13  Skrá með íslenskum orðum</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fjoldi-stafa-i-skrafli">14  Fjöldi stafa í skrafli</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sameining-nafnaskrar-og-einkunnaskrar">15  Sameining nafnaskrár og einkunnaskrár</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kosningaurslit">16  Kosningaúrslit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dalkar-i-csv-skra-leyst-me-colab">17  Dálkar í CSV-skrá [leyst með Colab]</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fallateikning">18  Fallateikning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hiti-og-urkoma">19  Hiti og úrkoma</a></li>
<li class="toctree-l2"><a class="reference internal" href="#numpy-og-vigrar">20  Numpy og vigrar</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raa-i-islenska-stafrofsro">21  Raðað í íslenska stafrófsröð</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sinussveiflur">22  Sínussveiflur</a></li>
<li class="toctree-l2"><a class="reference internal" href="#malmavinnsla">23  Málmavinnsla</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kosningaurslit-i-lit">24  Kosningaúrslit í lit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jafna-bestu-linu">25  Jafna bestu línu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reikningar-me-numpy">26  Reikningar með NumPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#korfuboltamenn">27  Körfuboltamenn</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kinverskt-jofnuhneppi">28  Kínverskt jöfnuhneppi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fjarlaeg-milli-borga">29  Fjarlægð milli borga</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aefing-i-tolvugrafik">30  Æfing í tölvugrafík</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grannafylki-og-legufylki">31  Grannafylki og legufylki</a></li>
<li class="toctree-l2"><a class="reference internal" href="#leslie-fylki-fyrir-fjogur-ar">32  Leslie-fylki fyrir fjögur ár</a></li>
<li class="toctree-l2"><a class="reference internal" href="#leslie-fylki-og-grof">33  Leslie-fylki og gröf</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mannfjoldaspa-fyrir-island">34  Mannfjöldaspá fyrir Ísland</a></li>
<li class="toctree-l2"><a class="reference internal" href="#poker">35  Póker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#staer-jarskjalfta">36  Stærð jarðskjálfta</a></li>
<li class="toctree-l2"><a class="reference internal" href="#valkvaeir-stikar">37  Valkvæðir stikar</a></li>
<li class="toctree-l2"><a class="reference internal" href="#daemi-af-profi-i-tolvunarfraei-1a-2020">38  Dæmi af prófi í Tölvunarfræði 1a 2020</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nalgun-vi-pi">39  Nálgun við pí</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pandas-aefing">40  Pandas æfing</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">Fyrirlestrarnótur um Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../verkefnafyrirsogn/">V E R K E F N I</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1  </span>Verkefni: Annars stigs jafna</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/verkefni.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="verkefni-annars-stigs-jafna">
<h1><span class="section-number">1  </span>Verkefni: Annars stigs jafna<a class="headerlink" href="#verkefni-annars-stigs-jafna" title="Permalink to this heading"></a></h1>
<p>Skrifið forrit sem leysir annars stigs jöfnu</p>
<div class="math notranslate nohighlight">
\[a x^2 + b x + c = 0\]</div>
<p>Forritið á að lesa inn <span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span> og <span class="math notranslate nohighlight">\(c\)</span> með <code class="docutils literal notranslate"><span class="pre">input</span></code>-skipunum
(með viðeigandi beiðnum til notanda). Ef jafnan hefur tvær lausnir á forritið að
skrifa „Lausnirnar eru:“ og síðan lausnirnar, ef hún hefur eina lausn á að
skrifa hana með viðeigandi skýringu og ef engin lausn er skal skrifa skilaboð um
það. Lausn eða lausnir eru gefnar með formúlunni</p>
<div class="math notranslate nohighlight">
\[x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}\]</div>
<p>Ef stærðin undir kvaðratrótinni er neikvæð þá er engin lausn, ef hún er núll er
ein lausn, annars tvær. Gerið auk þess ráð fyrir þeim möguleika að <span class="math notranslate nohighlight">\(a\)</span> sé
0. Ef <span class="math notranslate nohighlight">\(b\)</span> er ekki líka 0 þá er jafnan fyrsta stigs og forritið á að skrifa
að svo sé, ásamt lausninni (sem er þá ein). Látið <span class="math notranslate nohighlight">\(b\)</span> og <span class="math notranslate nohighlight">\(c\)</span> vera
gefin með afmælisdegi ykkar (dagur og mánuður) og prófið forritið fyrir fjórar
mismunandi jöfnur, fyrsta stigs jöfnuna <span class="math notranslate nohighlight">\(bx + c = 0\)</span> og annars stigs
jöfnur sem hafa enga, eina og tvær lausnir þar á meðal jöfnuna <span class="math notranslate nohighlight">\(x^2 + bx +
c = 0\)</span>. Setjið viðeigandi skjölunarstreng fremst í forritið.</p>
</section>
<section id="toluleg-heildun">
<h1><span class="section-number">2  </span>Töluleg heildun<a class="headerlink" href="#toluleg-heildun" title="Permalink to this heading"></a></h1>
<p class="rubric">A. Samsett trapisuregla</p>
<p>Í sýnidæmi og æfingu í kafla <a class="reference internal" href="../kafli04/#fallbreytur"><span class="std std-numref">4.9</span></a> voru búin til föll til að nálga heildi með flatarmáli einnar eða tveggja trapisa. Föllin voru prófuð með heildunum:</p>
<div class="math notranslate nohighlight">
\[(*)\hspace{1cm}\int_1^2\frac{\sin(x)}{x} dx\hspace{1cm}\text{og}\hspace{1cm}
(**)\hspace{1cm}\int_0^1 e^x dx\]</div>
<p>og fengust eftirfarandi nálganir:</p>
<blockquote>
<div><table class="docutils align-center">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>(*)</p></td>
<td><p>(**)</p></td>
</tr>
<tr class="row-even"><td><p>1 trapisa</p></td>
<td><p>0.648</p></td>
<td><p>1.859</p></td>
</tr>
<tr class="row-odd"><td><p>2 trapisur</p></td>
<td><p>0.657</p></td>
<td><p>1.754</p></td>
</tr>
<tr class="row-even"><td><p>rétt gildi</p></td>
<td><p>0.6593299</p></td>
<td><p>1.7182818</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Enn betri nálgun fæst með samsettri trapisureglu sem notar <span class="math notranslate nohighlight">\(n\)</span> trapisur.
Forritið hana og prófið með (*) og (**) og <span class="math notranslate nohighlight">\(n = 4\)</span>. Kannið líka
hve stórt <span class="math notranslate nohighlight">\(n\)</span> þarf að vera til að fá (næstum) 7 rétta aukastafi, sbr.
uppgefin rétt gildi. Hér eru formúlurnar sem þarf að nota ásamt skýringarmynd:</p>
<blockquote>
<div><p>Bilinu <span class="math notranslate nohighlight">\([a,b]\)</span> er skipt upp í <span class="math notranslate nohighlight">\(n\)</span> hlutbil sem hvert hefur lengd
<span class="math notranslate nohighlight">\(\Delta x = \dfrac{b-a}{n}\)</span>. <br>
Skiptipunktarnir eru:
<span class="math notranslate nohighlight">\(a = x_0 &lt; x_1 &lt; x_2 &lt; \cdots &lt; x_n = b\)</span>
þar sem <span class="math notranslate nohighlight">\(x_i = a + i\Delta x\)</span>.</p>
<figure class="align-center" style="width: 12cm">
<img alt="../_images/samsett-trap.jpg" src="../_images/samsett-trap.jpg" />
</figure>
<p>þá fæst nálgunin:</p>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\int_{a}^{b} f(x)\,dx
\approx T_n = \frac{\Delta x}{2}(f(x_0) + 2f(x_1) + 2f(x_2) +
\cdots + 2f(x_{n-1}) + f(x_n) )\]</div>
<p class="rubric">B. Simpsons-regla</p>
<p>Skrifa skal forrit til að nálga heildi með svonefndri <em>Simpsons-regla</em>. Í trapisureglu er heildisbilinu skipt í <span class="math notranslate nohighlight">\(n\)</span> hlutbil, fallið sem heilda skal nálgað með beinum línustrikum og heildi þess nálgað með flatarmálinu undir þessum línustrikum. Í Simpsonsreglu er fallið hinsvegar nálgað (eða <em>brúað</em> eins og það er kallað) með parabólum og heildið nálgað með flatarmálinu undir þeim. Skoðið endilega Wikipedíu-grein <a class="reference external" href="https://en.wikipedia.org/wiki/Simpson%27s_rule">um aðferðina</a>.</p>
<p>Simpsons-formúlan er eftirfarandi:</p>
<div class="math notranslate nohighlight">
\[\int_{a}^{b} f(x) \, dx \approx
\frac{\Delta x}{3}\left(f(x_0) + 4f(x_1)+2f(x_2)+
4f(x_3)+2f(x_4)+\cdots+4f(x_{n-1}) + f(x_{n})\right)\]</div>
<p>þar sem <span class="math notranslate nohighlight">\(\Delta x\)</span> og <span class="math notranslate nohighlight">\(x_i\)</span> eru eins og í A-lið og <span class="math notranslate nohighlight">\(n\)</span> er
slétt tala.</p>
<p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">simpson(f,a,b,n)</span></code> sem nálgar heildið af <code class="docutils literal notranslate"><span class="pre">f</span></code> frá <code class="docutils literal notranslate"><span class="pre">a</span></code>
til <code class="docutils literal notranslate"><span class="pre">b</span></code> með samsettri Simpsons-reglu með <code class="docutils literal notranslate"><span class="pre">n</span></code> hlutbilum.</p>
<p>Prófið með heildunum (*) og (**) úr A-lið með 4 hlutbilum. Ef rétt er forritað
ætti að fást <span class="math notranslate nohighlight">\((*)\)</span> 0.65933 og <span class="math notranslate nohighlight">\((**)\)</span> 1.71832. Kannið líka hve stórt <span class="math notranslate nohighlight">\(n\)</span> þarf að vera til að fá alla 7 aukastafina sem gefnir eru í töflunni í A-lið rétta. Heildið a‘ lokum eitthvert sjálfvalið fall þar sem afmælisdagur ykkar kemur við sögu.</p>
</section>
<section id="ymis-daemi">
<h1><span class="section-number">3  </span>Ýmis dæmi<a class="headerlink" href="#ymis-daemi" title="Permalink to this heading"></a></h1>
<p class="rubric">A. Hitastigum breytt</p>
<p>Hitastig í Fahrenheitgáðum er <span class="math notranslate nohighlight">\(T_F = \frac{9}{5}T_C + 32\)</span> þar sem <span class="math notranslate nohighlight">\(T_C\)</span> er hitastigið í Celcíusgráðum. Skrifið forrit sem skrifar út töflu til að breyta milli skalanna sem nær frá <span class="math notranslate nohighlight">\(–30^\text{o}C\)</span> til <span class="math notranslate nohighlight">\(50^\text{o}C\)</span> og hleypur á <span class="math notranslate nohighlight">\(5^\text{o}C\)</span>. Á Makka fæst gráðumerki með <em>option-T</em> og á Windows með Alt-0176. Taflan gæti byrjað svona:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>°C    °F
–––––––––
-30   -22
-25   -13
-20    -4
-15     5
...
</pre></div>
</div>
<p class="rubric">B. Rætur, lograr, kvaðröt</p>
<ol class="arabic simple">
<li><p>Skrifið forritsbút með for-lykkju sem finnur kvaðratrætur, náttúrulega logra,
og önnur veldi talnanna 1–10. Notið F-strengi til að skrifa (fallega) töflu
yfir niðurstöðuna. Hafið 2 aukastafi í kvaðratrótunum og logrunum.</p></li>
<li><p>Endurtakið með while-lykkju.</p></li>
</ol>
<p class="rubric">C. Lograr og veldi</p>
<p>Til að reikna logra (lógaritma) hefur Python þrjú föll: Náttúrulegur logri fæst með <code class="docutils literal notranslate"><span class="pre">log(x)</span></code>, tíu-logri fæst með <code class="docutils literal notranslate"><span class="pre">log10(x)</span></code> og loks fæst logri með grunntölu 2 með <code class="docutils literal notranslate"><span class="pre">log2(x)</span></code>. Fastinn <span class="math notranslate nohighlight">\(e\)</span> fæst með <code class="docutils literal notranslate"><span class="pre">math.e</span></code>, og vísisfallið, <span class="math notranslate nohighlight">\(e^x\)</span>, fæst með <code class="docutils literal notranslate"><span class="pre">exp(x)</span></code>. Reiknið:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\ln(1)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\ln \exp(3)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\log_{10} 1000\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\log_2 8\)</span></p></li>
</ol>
<p>(Ætti að gefa 0, 3, 3 og 3)</p>
<p class="rubric">D. Rúmmál kúlu</p>
<p>Þetta dæmi og það næsta (taflborðið) eru æfingar í útprentun, en ekki síður æfingar í að byggja upp forrit úr minni einingum, sem maður prófar hverja fyrir sig og setur svo saman.</p>
<ol class="arabic simple">
<li><p>Skrifið Python fall sem reiknar og skilar rúmmáli kúlu með radíus r. Prófið með kúlu með radíus 2 (ætti að skila 33.51)</p></li>
<li><p>Skrifið fall sem reiknar og skilar radíus hrings með gefið ummál. Prófið.</p></li>
<li><p>Skrifið fall sem tekur inn eðlismassa hlutar í <span class="math notranslate nohighlight">\(\text{g/cm}^3\)</span> og rúmmáli
hans í <span class="math notranslate nohighlight">\(\text{m}^3\)</span> og skilar þyngd hans í kg. Notið fallið til að reikna
þyngd gulltenings sem er 20 cm á kant (eðlismassi gulls er 19.30; ætti að
skila 154.4 kg).</p></li>
<li><p>Jörðin er um það bil kúla með ummál 40 þúsund km og eðlisþyngd hennar er 5.5 <span class="math notranslate nohighlight">\(\text{g/cm}^3\)</span>. Notið föllin í liðum 1–3 til að finna massa jarðar í tonnum.</p></li>
</ol>
<p>Látið öll forritin skrifa stuttan skýringartexta með því sem er prentað.</p>
<p class="rubric">E. Taflborð</p>
<p>Lokamarkmiðið þessa dæmis er að búa til fall sem prentar út <span class="math notranslate nohighlight">\(n \times n\)</span> taflborð fyrir slétta tölu <span class="math notranslate nohighlight">\(n\)</span> sem lítur svona út þegar <span class="math notranslate nohighlight">\(n=8\)</span>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>+-----------------+
|   X   X   X   X |
| X   X   X   X   |
|   X   X   X   X |
| X   X   X   X   |
|   X   X   X   X |
| X   X   X   X   |
|   X   X   X   X |
| X   X   X   X   |
+-----------------+
</pre></div>
</div>
<dl class="simple">
<dt>Það eru þrjár gerðir af línum:</dt><dd><ol class="loweralpha simple">
<li><p>Efsta og neðsta línan, með <span class="math notranslate nohighlight">\(+\)</span>, <span class="math notranslate nohighlight">\(2n + 1\)</span> striki og aftur <span class="math notranslate nohighlight">\(+\)</span>.</p></li>
<li><p>Línur eins og önnur línan með þrjú bil og X endurtekið <span class="math notranslate nohighlight">\(n/2\)</span> sinnum.</p></li>
<li><p>Línur eins og þriðja línan með X og þrjú bil endurtekið <span class="math notranslate nohighlight">\(n/2\)</span> sinnum</p></li>
</ol>
</dd>
</dl>
<ol class="arabic simple">
<li><p>Skrifið þrjú föll, til að prenta línur af tagi a, b og c. Prófið hvert um sig fyrir <span class="math notranslate nohighlight">\(n=2\)</span> og <span class="math notranslate nohighlight">\(n=8\)</span>.</p></li>
<li><p>Skrifið fall sem kallar á föllin í lið 1. og prentar <span class="math notranslate nohighlight">\(n \times n\)</span> borð. Látið fallið skrifa villuboð og hætta ef <span class="math notranslate nohighlight">\(n\)</span> er ekki slétt tala &gt; 2. Prófið með <span class="math notranslate nohighlight">\(n=8\)</span></p></li>
</ol>
<p>Munið að nota <code class="docutils literal notranslate"><span class="pre">*</span></code>-virkjann, sem fjölfaldar strengi.</p>
<p class="rubric">F. Viðsnúningur lista</p>
<ol class="arabic">
<li><p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">hali(L)</span></code> sem skilar <em>hala</em> L, þ.e. lista með öllum stökum
nema því fremsta.</p></li>
<li><p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">hausaftast(L)</span></code> sem skilar nýjum lista þar sem haus L hefur
verið færður aftast. Ef kallað er með <code class="code docutils literal notranslate"><span class="pre">L=[1,2,3,4]</span></code> ætti fallið að
skila <code class="code docutils literal notranslate"><span class="pre">[2,3,4,1]</span></code>. Prófið líka með lista búnum til útfrá afmælisdegi
(t.d. 3.8.1999 <span class="math notranslate nohighlight">\(\to\)</span> <code class="code docutils literal notranslate"><span class="pre">[3,8,99]</span></code>).</p></li>
<li><p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">snúavið(L)</span></code> sem snýr við lista. Hér er reiknirit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fall</span> <span class="n">snúavið</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">:=</span> <span class="n">lengd</span> <span class="n">L</span>
    <span class="n">M</span> <span class="o">:=</span> <span class="n">tómur</span> <span class="n">listi</span>
    <span class="n">fyrir</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">setja</span> <span class="n">i</span><span class="o">-</span><span class="n">ta</span> <span class="n">stak</span> <span class="n">L</span> <span class="n">afast</span> <span class="n">í</span> <span class="n">M</span>
    <span class="n">skila</span> <span class="n">M</span>
</pre></div>
</div>
<p>Prófið að snúa við <code class="docutils literal notranslate"><span class="pre">L=[1,2,3,4]</span></code> sem ætti að skila <code class="docutils literal notranslate"><span class="pre">[4,3,2,1]</span></code>
og líka afmælisdagalistanum úr lið 2.</p>
</li>
</ol>
</section>
<section id="oraleikur">
<h1><span class="section-number">4  </span>Orðaleikur<a class="headerlink" href="#oraleikur" title="Permalink to this heading"></a></h1>
<ol class="arabic">
<li><p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">telja(s)</span></code> sem byrjar á nota <code class="docutils literal notranslate"><span class="pre">s.split()</span></code> til að búa til
lista af einstökum orðum í <code class="docutils literal notranslate"><span class="pre">s</span></code> og telur síðan hve margir stafir eru í
hverju orði. Fallið á að skila lista með þessari talningu. Þannig ætti</p>
<p><code class="docutils literal notranslate"><span class="pre">telja(&quot;Afi</span> <span class="pre">minn</span> <span class="pre">og</span> <span class="pre">amma</span> <span class="pre">mín&quot;)</span></code></p>
<p>að skila listanum <code class="docutils literal notranslate"><span class="pre">[3,4,2,4,3]</span></code>. Prófið líka að telja stafi í nafninu
ykkar (t.d. <code class="docutils literal notranslate"><span class="pre">telja(&quot;Kristján</span> <span class="pre">Jónasson&quot;)</span></code>). Líklega borgar sig að búa
fyrst til tóman lista og fara svo í lykkju og bæta nýrri talningu afast
í listann í hverri umferð (t.d. með <code class="docutils literal notranslate"><span class="pre">append</span></code>).</p>
</li>
<li><p>Búið til fall <code class="docutils literal notranslate"><span class="pre">hrópa(s)</span></code> sem skrifar <code class="docutils literal notranslate"><span class="pre">s</span></code> út með stórum stöfum og tveimur
upphrópunarmerkjum. Hrópið svo nafnið ykkar :)</p></li>
<li><p>Til að athuga hvort stafur <code class="docutils literal notranslate"><span class="pre">c</span></code> sé hástafur má spyrja: <code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">==</span> <span class="pre">c.upper()</span></code>.
Skrifið fall <code class="docutils literal notranslate"><span class="pre">stórir(s)</span></code> sem skilar lista af rökgildum með i-ta gildið satt
ef i-ta orðið í <code class="code docutils literal notranslate"><span class="pre">s</span></code> byrjar á stórum staf. Prófið með sjálfvöldu dæmi og
sýnið niðurstöðuna.</p></li>
</ol>
</section>
<section id="kvaratrot">
<h1><span class="section-number">5  </span>Kvaðratrót<a class="headerlink" href="#kvaratrot" title="Permalink to this heading"></a></h1>
<p>Um útreikning kvaðratrótar er fjallað í kafla 7.5 í <a class="reference external" href="https://greenteapress.com/wp/think-python-2e/">Think Python</a> kennslubókinni.
Þar stendur að hægt sé að nota Newtons aðferð, og að ef byrjað er með einhverja
nálgun <span class="math notranslate nohighlight">\(x\)</span> við <span class="math notranslate nohighlight">\(\sqrt{a}\)</span> þá fáist betri nálgun, <span class="math notranslate nohighlight">\(y\)</span> með því
að reikna:</p>
<div class="math notranslate nohighlight">
\[(*)\hspace{4cm} y = \frac{x + a/x}{2}\]</div>
<p>Formúluna má m.a. rökstyðja þannig að ef <span class="math notranslate nohighlight">\(x\)</span> er nákvæmt gildi þá er <span class="math notranslate nohighlight">\(x^2 =
a\)</span> svo að <span class="math notranslate nohighlight">\(x = a/x\)</span>. Hinsvegar ef <span class="math notranslate nohighlight">\(x\)</span> er aðeins minna en
kvaðratrótin þá þá verður <span class="math notranslate nohighlight">\(a/x\)</span> aðeins stærra en hún (og öfugt) og því
ætti meðaltal <span class="math notranslate nohighlight">\(x\)</span> og <span class="math notranslate nohighlight">\(a/x\)</span> að vera betri nálgun. Svo má athuga hve
nálgunin er góð með því að skoða muninn á <span class="math notranslate nohighlight">\(x\)</span> og <span class="math notranslate nohighlight">\(y\)</span>. Ef t.d.</p>
<div class="math notranslate nohighlight">
\[(**)\hspace{4cm}|x - y| &lt; \varepsilon\]</div>
<p>þar sem <span class="math notranslate nohighlight">\(\varepsilon = 10^{-4}\)</span> er hún orðin nokkuð góð.</p>
<ol class="arabic simple">
<li><p>Skrifið Python-fall, <code class="docutils literal notranslate"><span class="pre">krót(a)</span></code> sem útfærir þessa hugmynd. Byrjið með
upphafsgildið <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">1</span></code> og finnið svo betri og betri lausn með því að nota
while-lykkju sem reiknar <span class="math notranslate nohighlight">\((*)\)</span> aftur og aftur og heldur áfram þangað
til <span class="math notranslate nohighlight">\((**)\)</span> er uppfyllt. Prófið að reikna <span class="math notranslate nohighlight">\(\sqrt{9}\)</span> og
<span class="math notranslate nohighlight">\(\sqrt{10}\)</span> (rétt gildi 3.16227766017). <br><br></p></li>
<li><p>Búið nú til nýja útgáfu af fallinu sem er með tvo inntaksstika, töluna <code class="docutils literal notranslate"><span class="pre">a</span></code>
og nákvæmnikröfu <code class="code docutils literal notranslate"><span class="pre">eps</span></code>, og telur auk þess hve margar ítrekanir eru
teknar. Látið það skila bæði lokanálguninni og ítrekanafjöldanum (sbr. fyrra
sýnidæmið í kafla <a class="reference internal" href="../kafli04/#virka"><span class="std std-numref">4.7</span></a>). Skrifið niðurstöður með hæfilegum
skýringartextum: lokanálgun, ítrekanafjölda, og muninn á réttri kvaðratrót
og lokanálgun. Prófið með nokkrum mismunandi gildum á <span class="math notranslate nohighlight">\(a\)</span> (m.a.
eitthvað mjög stórt gildi) og <span class="math notranslate nohighlight">\(\varepsilon\)</span>, (m.a. gildi sem er ekkert
mjög lítið, t.d. 0.1 eða 0.01). Bætið við textareit og skrifið örfá orð um
niðurstöðu þessarar prófunar.</p></li>
</ol>
</section>
<section id="mealtal-og-staalfravik">
<h1><span class="section-number">6  </span>Meðaltal og staðalfrávik<a class="headerlink" href="#mealtal-og-staalfravik" title="Permalink to this heading"></a></h1>
<p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">tölfræði(x)</span></code> sem skilar pari <code class="docutils literal notranslate"><span class="pre">(m,</span> <span class="pre">s)</span></code> með meðaltali og staðalfráviki stakanna í listanum <code class="docutils literal notranslate"><span class="pre">x</span></code> með því að nota formúlurnar:</p>
<div class="math notranslate nohighlight">
\[\begin{split}m &amp;= \frac{1}{n}\sum_{i=0}^{n-1}{x[i]}\\
s &amp;= \sqrt{\frac{1}{n-1}\sum_{i=0}^{n-1}(x[i] - m)^2}\end{split}\]</div>
<p>Prófið með <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">[3,7,7,1]</span></code> (á að skila <code class="docutils literal notranslate"><span class="pre">[4.5,</span> <span class="pre">3.0]</span></code>) og líka með lista <code class="docutils literal notranslate"><span class="pre">[d,m,á]</span></code> búnum til úr fæðingardegi..</p>
</section>
<section id="boluroun">
<h1><span class="section-number">7  </span>Bóluröðun<a class="headerlink" href="#boluroun" title="Permalink to this heading"></a></h1>
<p>Hér er reiknirit sem raðar n-staka lista x með bóluröðun <a class="reference external" href="https://en.wikipedia.org/wiki/bubble_sort">bubble sort</a>, sem snýst um að rúlla í gegn um stökin og ef tvö samliggjandi stök eru í öfugri röð þá er víxlað á þeim. Þetta er endurtekið þar til öll stökin eru í röð. Minnstu stökin bobbla smám saman eins og loftbólur fremst í listann.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>víxlað = satt
meðan víxlað
   víxlað = ósatt
   fyrir i=1,...,n-1:
      ef x[i-1] &gt; x[i] þá
         víxla á x[i-1] og x[i]
         víxlað = satt
</pre></div>
</div>
<p>Þýðið þetta reiknirit yfir í Python-fall <code class="docutils literal notranslate"><span class="pre">bóluröðun(x)</span></code>. Athugið að til að víxla á breytum <code class="docutils literal notranslate"><span class="pre">x</span></code> og <code class="docutils literal notranslate"><span class="pre">y</span></code> má nota <code class="code docutils literal notranslate"><span class="pre">(x,y)</span> <span class="pre">=</span> <span class="pre">(y,x)</span></code>. Prófið með því að raða listanum <code class="docutils literal notranslate"><span class="pre">[3,8,1,2,5,4]</span></code>.</p>
</section>
<section id="polhnit">
<h1><span class="section-number">8  </span>Pólhnit<a class="headerlink" href="#polhnit" title="Permalink to this heading"></a></h1>
<p>Lesið aðeins um <a class="reference external" href="https://en.wikipedia.org/wiki/Polar_coordinate_system">pólhnit</a>
á Wikipediu áður en þið spreytið ykkur á eftirfarandi verkefni.</p>
<ol class="arabic">
<li><p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">pol2rec(r,theta)</span></code> sem skilar pari <code class="docutils literal notranslate"><span class="pre">(x,y)</span></code>, til að breyta úr
pólhnitum yfir í rétthyrnd hnit með eftirfarandi formúlum:</p>
<div class="math notranslate nohighlight">
\[\begin{split}x &amp;= r \cos{\theta}\\
y &amp;= r \sin{\theta}\end{split}\]</div>
<p>Prófið að breyta <span class="math notranslate nohighlight">\((r,\theta) = (4,35°)\)</span> yfir í rétthyrnd hnit <span class="math notranslate nohighlight">\(x\)</span>
og <span class="math notranslate nohighlight">\(y\)</span> (á að gefa <span class="math notranslate nohighlight">\(x=3.277\)</span>, <span class="math notranslate nohighlight">\(y=2.294\)</span>). Munið að nota
<code class="docutils literal notranslate"><span class="pre">math.radians</span></code> til að breyta gráðum í radíana.</p>
</li>
<li><p>Skrifið svo annað fall, <code class="docutils literal notranslate"><span class="pre">rec2pol(x,y)</span></code> sem skilar <code class="docutils literal notranslate"><span class="pre">(r,theta)</span></code> og breytir
í hina áttina með formúlunum:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\theta &amp;= \operatorname{atan2}(y,x)\\
r &amp;= \sqrt{x^2 + y^2}\end{split}\]</div>
<p>Prófið að breyta svarinu sem fékkst í lið 1 aftur til baka í pólhnit.</p>
<div class="athugid admonition">
<p class="admonition-title">Athugasemd</p>
<p>Stærðfræðifallið <a class="reference external" href="https://en.wikipedia.org/wiki/Atan2">atan2</a>
sem er líka til í Python er sérhannað til að breyta úr rétthyrndum hnitum
í pólhnit. Það skilar horni <span class="math notranslate nohighlight">\(\theta\)</span> á bilinu <span class="math notranslate nohighlight">\((-\pi,\pi]\)</span>
þannig að <span class="math notranslate nohighlight">\(\tan \theta = y/x\)</span>, nema ef <span class="math notranslate nohighlight">\(x=0\)</span>, þá skilar fallið
<span class="math notranslate nohighlight">\(\pm\pi/2\)</span> með sama formerki og <span class="math notranslate nohighlight">\(y\)</span>. Hornið er valið þannig að
það sé stefnuhorn vigursins <span class="math notranslate nohighlight">\((x,y)\)</span>.</p>
</div>
</li>
</ol>
</section>
<section id="innsetningarroun-og-pythontutor">
<h1><span class="section-number">9  </span>Innsetningarröðun og Pythontutor<a class="headerlink" href="#innsetningarroun-og-pythontutor" title="Permalink to this heading"></a></h1>
<ol class="arabic simple">
<li><p>Ein einfaldasta röðunaraðferðin er innsetningarröðun (<em>insertion sort</em>).
Forritið fyrsta reikniritið í lýsingu hennar á <a class="reference external" href="https://en.wikipedia.org/wiki/Insertion_sort#Algorithm">Wikipediu</a> í Python falli.
Notið paragildisgjöf, <code class="docutils literal notranslate"><span class="pre">(x,y)</span> <span class="pre">=</span> <span class="pre">(y,x)</span></code> til að víxla (<em>swap</em>) í 5. línu
reikniritsins. Prófið að raða listanum <cite>[3,8,1,2,5,4]</cite>. Leysið verkefnið með
falli sem hefur listann sem raða skal sem inntaksstika og skilar röðuðum
lista. Gætið þess að breyta ekki inntaksstikanum inni í fallinu.</p></li>
<li><p>Á vefsíðan <a class="reference external" href="https://pythontutor.com">pythontutor.com</a> er hægt að keyra
forrit skref fyrir skref og skoða hvernig gildi á breytum breytast. Setjið
forritið sem þið skrifuðuð í lið 1 inn á þessa síðu og prófið ykkur áfram.</p></li>
</ol>
</section>
<section id="toluleg-diffrun">
<h1><span class="section-number">10  </span>Töluleg diffrun<a class="headerlink" href="#toluleg-diffrun" title="Permalink to this heading"></a></h1>
<ol class="arabic">
<li><p>Eftirfarandi formúlu má nota til að nálga afleiðu falls í punkti <span class="math notranslate nohighlight">\(a\)</span>:</p>
<div class="math notranslate nohighlight">
\[f'(a) \approx \frac{f(a+h) - f(a-h)}{2h}\]</div>
<p>þar sem <span class="math notranslate nohighlight">\(h\)</span> er lítil tala. Skrifið fall <code class="docutils literal notranslate"><span class="pre">töldiff(f,</span> <span class="pre">a,</span> <span class="pre">h)</span></code> sem
reiknar slíka nálgun og skilar henni. Prófið með <span class="math notranslate nohighlight">\(f(x) = \sqrt{x}\)</span>,
<span class="math notranslate nohighlight">\(a = 4\)</span> og <span class="math notranslate nohighlight">\(h = 10^{-4}\)</span> (sem ætti að skila tölu sem er nálægt
<span class="math notranslate nohighlight">\(\frac{1}{2\sqrt{4}}\)</span>).</p>
</li>
<li><p>Skrifið nú töflu yfir nálgunina fyrir <span class="math notranslate nohighlight">\(h = 10^{-k}, k=1,...10,\)</span> og
látið fylgja með dálk sem sýnir hve skekkjan er mikil. Merkið með <span class="math notranslate nohighlight">\(*\)</span>
línuna þar sem skekkjan er minnst.</p></li>
</ol>
</section>
<section id="uppflettitafla-afturabak">
<h1><span class="section-number">11  </span>Uppflettitafla afturábak<a class="headerlink" href="#uppflettitafla-afturabak" title="Permalink to this heading"></a></h1>
<p>Hugsum okkur að <code class="docutils literal notranslate"><span class="pre">ísl_ens</span></code> sé uppflettitafla sem geymir íslensk-enska orðabók.
Hún gæti t.d. innihaldið pörin:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;reipi&quot;</span></code> <span class="math notranslate nohighlight">\(\to\)</span> <code class="docutils literal notranslate"><span class="pre">&quot;rope&quot;</span></code> <br>
<code class="docutils literal notranslate"><span class="pre">&quot;hús&quot;</span></code> <span class="math notranslate nohighlight">\(\to\)</span> <code class="docutils literal notranslate"><span class="pre">&quot;house&quot;</span></code> og <br>
<code class="docutils literal notranslate"><span class="pre">&quot;rauður&quot;</span></code> <span class="math notranslate nohighlight">\(\to\)</span> <code class="docutils literal notranslate"><span class="pre">&quot;red&quot;</span></code>.</p>
</div></blockquote>
<p>Ef við vilum búa til ensk-íslenska orðabók gætum við snúið töflunni við og
fengið pörin <code class="docutils literal notranslate"><span class="pre">&quot;rope&quot;</span></code> <span class="math notranslate nohighlight">\(\to\)</span> <code class="docutils literal notranslate"><span class="pre">&quot;reipi&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;house&quot;</span></code> <span class="math notranslate nohighlight">\(\to\)</span>
<code class="docutils literal notranslate"><span class="pre">&quot;hús&quot;</span></code> o.s.frv.</p>
<ol class="arabic">
<li><p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">snúavið(U)</span></code> sem snýr uppflettitöflu við á þennan hátt og
skilar viðsnúnu töflunni. Gerið ráð fyrir að taflan <code class="docutils literal notranslate"><span class="pre">U</span></code> hafi hvergi sama
gildi fyrir tvo mismunandi lykla. Prófið með orðaskránni að framan og búið
til <code class="docutils literal notranslate"><span class="pre">ens_ísl</span></code>.</p></li>
<li><p>Skrifið nýja útgáfu af fallinu, <code class="docutils literal notranslate"><span class="pre">snúavið2(U)</span></code>, sem er ekki með slíkri
einkvæmnitakmörkun. Það á að skila nýrri uppflettitöflu <code class="docutils literal notranslate"><span class="pre">V</span></code> sem er þannig
að ef <code class="docutils literal notranslate"><span class="pre">g</span></code> er gildi svarandi til tveggja mismunandi lykla, <code class="docutils literal notranslate"><span class="pre">U[x]</span> <span class="pre">=</span> <span class="pre">U[y]</span> <span class="pre">=</span>
<span class="pre">g</span></code> þá á gildi <code class="docutils literal notranslate"><span class="pre">V</span></code> fyrir lykilinn <code class="docutils literal notranslate"><span class="pre">g</span></code> að vera listi með <code class="docutils literal notranslate"><span class="pre">x</span></code> og <code class="docutils literal notranslate"><span class="pre">y</span></code>,
<code class="docutils literal notranslate"><span class="pre">V[g]</span> <span class="pre">=</span> <span class="pre">[x,y]</span></code>. Bætið nú tveimur pörum við <code class="docutils literal notranslate"><span class="pre">ísl_ens</span></code>:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;tómarúm&quot;</span></code> <span class="math notranslate nohighlight">\(\to\)</span> <code class="docutils literal notranslate"><span class="pre">&quot;vaccum&quot;</span></code> <br>
<code class="docutils literal notranslate"><span class="pre">&quot;ryksuga&quot;</span></code> <span class="math notranslate nohighlight">\(\to\)</span> <code class="docutils literal notranslate"><span class="pre">&quot;vaccum&quot;</span></code> <br></p>
</div></blockquote>
<p>og prófið <code class="docutils literal notranslate"><span class="pre">snúavið2</span></code>.</p>
</li>
</ol>
</section>
<section id="shell-roun">
<h1><span class="section-number">12  </span>Shell-röðun<a class="headerlink" href="#shell-roun" title="Permalink to this heading"></a></h1>
<p>Árið 1959 kom út <a class="reference external" href="https://dl.acm.org/doi/pdf/10.1145/368370.368387">grein</a>
eftir Donald L Shell með hraðvirku reikniriti til að raða <span class="math notranslate nohighlight">\(N\)</span> tölum (eða
öðrum hlutum) sem síðar var kallað <em>Shell-sort</em>. Það er áhugavert að skoða
greinina, sérstaklega hvernig reikniritið er sett fram með svonefndu
<em>flæðiriti</em>, en í byrjun tölvualdar voru þau algeng. Reikniritið vinnur með
minnkandi runu af bilum (<em>gaps</em>), <span class="math notranslate nohighlight">\(b_1 &gt; b_2 &gt;...&gt; b_n = 1\)</span>. Í fyrstu
umferð er sætum <span class="math notranslate nohighlight">\(0, b_1, 2b_1,\ldots\)</span> raðað með innsetningarröðun (sjá
<a class="reference internal" href="#innsetningarroun-og-pythontutor"><span class="std std-numref">verkefni 9</span></a>), þvínæst sætum
<span class="math notranslate nohighlight">\(1, 1+b_1, 1+2b_1,\ldots\)</span>, o.s.frv. þar til allar hlutrunur sæta með
millibili <span class="math notranslate nohighlight">\(b_1\)</span> eru komnar í röð. Þetta er svo endurtekið fyrir öll bilin.
Í upphaflegu grein Shells var <span class="math notranslate nohighlight">\(b_k\)</span> valið sem <span class="math notranslate nohighlight">\(\left\lfloor N/2^k
\right\rfloor\)</span> en síðan hafa menn þróað ýmsar aðrar bilarunur
(<span class="math notranslate nohighlight">\(\left\lfloor x \right\rfloor = \operatorname{int}(x)\)</span>; þ.e. sker
aukastafi af <span class="math notranslate nohighlight">\(x\)</span>).</p>
<p>Hér er reiknirit sem Shell-raðar lista <code class="docutils literal notranslate"><span class="pre">a[0],a[1]...a[N-1]</span></code> með upphaflegu bilarununni:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fyrir k = 1,2,3,...:
   bil = int(N/2^k)
   ef bil &lt; 1 þá út úr lykkju
   fyrir i = 0, 1,..., bil-1:
       raða a[i], a[i+bil], a[i+2*bil],... með innsetningarröðun
</pre></div>
</div>
<p>Skrifið Python-fall sem Shell-raðar. Byrjið á að leysa <a class="reference internal" href="#innsetningarroun-og-pythontutor"><span class="std std-numref">verkefni
9</span></a> ef þið eruð ekki þegar búin að því. Það er
hægt að nota heiltöludeilingu (<code class="docutils literal notranslate"><span class="pre">//</span></code>) til að reikna <code class="docutils literal notranslate"><span class="pre">bil</span></code> og hlutrunan í
neðstu línunni fæst með <code class="docutils literal notranslate"><span class="pre">a[i:N:bil]</span></code>. Byggið á reikniritinu að framan (og alls
ekki ná í tilbúið forrit af netinu). Prófið að raða listunum <code class="docutils literal notranslate"><span class="pre">[8,3,2]</span></code> og
<code class="docutils literal notranslate"><span class="pre">[8,5,1,9,6,2,1,7,11,3]</span></code>, og auk þess einum sjálfvöldum lista með 12 tveggja
stafa tölum.</p>
</section>
<section id="skra-me-islenskum-orum">
<h1><span class="section-number">13  </span>Skrá með íslenskum orðum<a class="headerlink" href="#skra-me-islenskum-orum" title="Permalink to this heading"></a></h1>
<p>Þetta verkefni er lauslega byggt á verkefnum í 9. kafla <a class="reference external" href="https://greenteapress.com/wp/think-python-2e/">Think Python</a> kennslubókarinnar. Í skrá með
veffang <a class="reference external" href="https://cs.hi.is/python/ord.txt">https://cs.hi.is/python/ord.txt</a> eru
217 þúsund íslensk orð. Þið getið skoðað skrána með því að smella á hlekkinn. Í
verkefninu sem hér fylgir þarf að nota ýmsar strengjaaðgerðir sem lýst er í
kafla <a class="reference internal" href="../kafli05/#strengir"><span class="std std-numref">5.2</span></a>.</p>
<ol class="arabic">
<li><p>Opnið skrána með <code class="docutils literal notranslate"><span class="pre">urlopen</span></code> og lesið hana inn eins og sýnt er í kafla
<a class="reference internal" href="../kafli08/#innlestur-textaskrar-af-vefnum"><span class="std std-numref">8.2.4</span></a>. Prentið út fyrstu 5 orðin og líka
tíu þúsundasta hvert orð og öll orð sem eru lengri en 30 stafir.</p>
<div class="python admonition">
<p class="admonition-title">Leiðbeining</p>
<p>Það er bara eitt orð á hverri línu sem hægt er að ná í með <code class="docutils literal notranslate"><span class="pre">orð</span> <span class="pre">=</span>
<span class="pre">lína.decode().strip()</span></code></p>
</div>
<div class="athugid admonition">
<p class="admonition-title">Athugasemd</p>
<p>Í stað þess að nota <em>urllib</em> mætti lesa skrána inn með NumPy eins og fjallað
er um í kafla <a class="reference internal" href="../kafli10/#innlestur-skraa-me-textadalkum"><span class="std std-numref">10.6.3</span></a>. Þá er notað
<code class="docutils literal notranslate"><span class="pre">dtype=str</span></code> í sjálfum innlestrinum, og síðan má nota <em>tolist</em>-aðferðina til
að breyta innlesnum vigri í venjulegan lista af strengjum.</p>
</div>
</li>
<li><p>Spegilorð (<em>palindrome</em>) er orð sem er eins lesið afturábak og áfram (t.d.
kajak). Skrifið rökfall <code class="docutils literal notranslate"><span class="pre">spegilorð(s)</span></code> sem kannar hvort <code class="docutils literal notranslate"><span class="pre">s</span></code> sé spegilorð
[rökfall er fall sem skilar <code class="docutils literal notranslate"><span class="pre">True</span></code> eða <code class="docutils literal notranslate"><span class="pre">False</span></code> og prófið. Skrifið í
framhaldi út öll spegilorð í skránni, 10 á hverja línu. Fyrsta linan ætti að
verða:</p>
<blockquote>
<div><p><code class="code docutils literal notranslate"><span class="pre">abba,</span> <span class="pre">afa,</span> <span class="pre">aga,</span> <span class="pre">agga,</span> <span class="pre">aka,</span> <span class="pre">ala,</span> <span class="pre">alla,</span> <span class="pre">ama,</span> <span class="pre">amma,</span> <span class="pre">ana,</span></code></p>
</div></blockquote>
<div class="python admonition">
<p class="admonition-title">Leiðbeining</p>
<p>Til að snúa við streng <code class="docutils literal notranslate"><span class="pre">s</span></code> má nota <code class="docutils literal notranslate"><span class="pre">s[::-1]</span></code>. Það þarf
að nota <code class="docutils literal notranslate"><span class="pre">end=</span></code> í print-skipun sbr. kafla <a class="reference internal" href="../kafli04/#utprentun"><span class="std std-numref">4.4</span></a>, og svo þarf
að nota teljara sem fylgist með hvað er búið að prenta mörg orð á línuna og
þegar þau eru orðin 10 er farið í nýja línu með <code class="docutils literal notranslate"><span class="pre">print()</span></code> og teljarinn
núllstilltur. Fyrsta línan sem prentast ætti að vera:</p>
</div>
</li>
<li><p>Finnið þau orð í skránni sem hafa einn sérhljóða og hámarksfjölda samhljóða.</p></li>
</ol>
<div class="athugid admonition">
<p class="admonition-title">Athugasemd</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> er staðall til að geyma
bókstafi og önnur rittákn í tölvum. Staðallinn hefur á síðasta áratug eða svo
orðið alsráðandi í tölvuheiminum, og eru 97% allra vefsíðna skráð með honum.
Hver stafur er geymdur í einu til fjórum bætum. Algengustu tákn og stafir,
þ.m.t. allir enskir bókstafir nota eitt bæti, aðrir bókstafir allra evrópskra
tungumála þurfa tvö bæti, en sjaldgæfari stafir og tákn þurfa þrjú
eða fjögur bæti. Strengir í forritunarmálum, þ.m.t. Python eru hinsvegar <a class="reference external" href="https://dev.to/bplevin36/python-strings-are-not-utf-8-2dfj">ekki
geymdir</a> með
UTF-8 sniði heldur ýmist sem <em>Latin-1</em>, <em>UTF-16</em> eða <em>UTF-32</em>. Þetta er gert
til að öll tákn hvers strengs séu jafn mörg bæti, sem flýtir t.d. fyrir
uppflettingu á <em>i</em>-ta sæti.</p>
</div>
</section>
<section id="fjoldi-stafa-i-skrafli">
<h1><span class="section-number">14  </span>Fjöldi stafa í skrafli<a class="headerlink" href="#fjoldi-stafa-i-skrafli" title="Permalink to this heading"></a></h1>
<ol class="arabic">
<li><p>Í þessu verkefni á að búa til töflu yfir hlutfallslega tíðni hvers stafs í
skránni <code class="docutils literal notranslate"><span class="pre">ord.txt</span></code> úr <a class="reference internal" href="#skra-me-islenskum-orum"><span class="std std-numref">verkefni 13</span></a>, og
jafnframt hvað sú tíðni samsvarar mörgum heilum stöfum af 98, sem er
heildarfjöldi stafa í pokanum sem notaður er í borðspilinu skrafli
(<em>scrabble</em>). Taflan ætti að byrja svona:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>stafur  tíðni  fjöldi
–––––––––––––––––––––
  a     9.80%    10
  á     1.27%     1
  b     1.34%     1
</pre></div>
</div>
<div class="python admonition">
<p class="admonition-title">Leiðbeiningar</p>
<p>Byrjið á að skoða athugasemdina að neðan, þ.m.t. vefsíðu netskraflara.
Skrána ord.txt má opna og lesa inn annaðhvort með <em>urllib</em> eða <em>NumPy</em>,
eins og í <a class="reference internal" href="#skra-me-islenskum-orum"><span class="std std-numref">verkefni 13</span></a> . Ef <code class="docutils literal notranslate"><span class="pre">s</span></code> er
strengur og <code class="docutils literal notranslate"><span class="pre">L</span></code> er listi af strengjum þá má skeyta þeim saman aðskildum
með <code class="docutils literal notranslate"><span class="pre">s</span></code> með því að rita <code class="docutils literal notranslate"><span class="pre">s.join(L)</span></code>, til dæmis:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;már&quot;</span><span class="p">,</span> <span class="s2">&quot;mús&quot;</span><span class="p">,</span> <span class="s2">&quot;mý&quot;</span><span class="p">]</span>
<span class="n">s1</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>         <span class="c1"># gefur &quot;már,mús,mý</span>
<span class="n">s2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>          <span class="c1"># gefur &quot;mármúsmý&quot;</span>
</pre></div>
</div>
<p>Þannig má fá langan streng <code class="docutils literal notranslate"><span class="pre">öllorð</span></code> með öllum orðum skrárinnar í runu
með því beita <code class="docutils literal notranslate"><span class="pre">join</span></code> með tóma strengnum á útkomuna úr <code class="docutils literal notranslate"><span class="pre">allarlínur</span></code>.
Skoðið byrjunina á öllorð með <code class="docutils literal notranslate"><span class="pre">print(öllorð[:40])</span></code>. Svo má t.d. finna
hlutfallslega tíðni a með <code class="docutils literal notranslate"><span class="pre">ta</span> <span class="pre">=</span> <span class="pre">öllorð.count(&quot;a&quot;)/n</span></code> þar sem <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span>
<span class="pre">len(öllorð)</span></code>. Tilsvarandi heill fjöldi a-a af 98 fengist með
<code class="docutils literal notranslate"><span class="pre">round(ta*98)</span></code>. Hægt er að rúlla í gegn um alla stafina með for-lykkju
og strengnum:</p>
<blockquote>
<div><p><code class="code docutils literal notranslate"><span class="pre">stafróf</span> <span class="pre">=</span> <span class="pre">&quot;aábcdðeéfghiíjklmnoópqrstuúvwxyýzþæö&quot;</span></code></p>
</div></blockquote>
</div>
</li>
<li><p><strong>Aukaspurning:</strong> Ef rétt er reiknað sést að allmargir stafir gefa fjöldann
0. Í skrafli er hinsvegar amk. einn stafur af hverri gerð í pokanum. Ef við
hækkum öll núllin upp í einn fást of margir stafir. Lýsum einni leið til að
leiðrétta það. Byrjum á að búa til uppflettitöflu <code class="docutils literal notranslate"><span class="pre">fj</span></code> þannig að <code class="docutils literal notranslate"><span class="pre">fj[c]</span></code>
sé fjöldi af staf c skv. lið 1, nema við látum <code class="docutils literal notranslate"><span class="pre">fj[c]</span> <span class="pre">=</span> <span class="pre">max(1,round(ta*98))</span></code>.
Hér er tilvalið að nota yfirgrip. Við látum:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">búnir</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">stafróf</span> <span class="k">if</span> <span class="n">fj</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">eftir</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">stafróf</span> <span class="k">if</span> <span class="n">fj</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">98</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">búnir</span><span class="p">)</span>
</pre></div>
</div>
<p>Nú má fara aftur í gegn um lykkju eins og í lið 1, nema hvað aðeins er rúllað
í gegn um stafina í <code class="docutils literal notranslate"><span class="pre">eftir</span></code>, í stað 98 kemur N, og svo þarf n að vera fjöldi
stafa í skránni sem eru í <code class="docutils literal notranslate"><span class="pre">eftir</span></code>. Aftur er hægt að nota yfirgrip:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">sum([öllorð.count(c)</span> <span class="pre">for</span> <span class="pre">c</span> <span class="pre">in</span> <span class="pre">eftir])</span></code>.</p>
</div></blockquote>
<p>Útfærið þessa hugmynd og athugið hver heildarfjöldi stafa verður.</p>
</li>
</ol>
<div class="athugid admonition">
<p class="admonition-title">Athugasemd: Um skrafl</p>
<p>Í skrafli eru mismargir stafir af hverri gerð í pokanum eins og skoða má á
<a class="reference external" href="https://netskrafl.is/help">vefsíðu netskraflara</a>: það eru t.d. ellefu a,
og átta r, en ekki nema tvö ó og eitt h. Stafirnar gefa líka mismunandi mörg
stig. Fjöldi eintaka af hverjum staf er nokkurnveginn í hlutfalli við tíðni
stafanna í íslenskum orðalista svipuðum þeim sem er í skránni <em>ord.txt</em>, og
gildi hvers stafs er líka tengt þessari tíðni.</p>
</div>
</section>
<section id="sameining-nafnaskrar-og-einkunnaskrar">
<h1><span class="section-number">15  </span>Sameining nafnaskrár og einkunnaskrár<a class="headerlink" href="#sameining-nafnaskrar-og-einkunnaskrar" title="Permalink to this heading"></a></h1>
<p>Útbúnar hafa verið tvær skrár með gervigögnum: Sú fyrri, <a class="reference external" href="https://cs.hi.is/python/einkunn.txt">https://cs.hi.is/python/einkunn.txt</a> inniheldur prófnúmer og einkunnir og sú seinni,
<a class="reference external" href="https://cs.hi.is/python/nofn.txt">https://cs.hi.is/python/nofn.txt</a>,
inniheldur prófnúmer og nöfn.</p>
<ol class="arabic">
<li><p><strong>Skrá lesin.</strong> Skrifið forrit sem les einkunnaskrána inn í uppflettitöflu
(<em>dictionary</em>) <code class="docutils literal notranslate"><span class="pre">eink_tafla</span></code> þannig að <code class="docutils literal notranslate"><span class="pre">eink_tafla[nr]</span></code> gefi einkunn
próftaka með prófnúmer <code class="docutils literal notranslate"><span class="pre">nr</span></code> sbr. dæmin í kafla <a class="reference internal" href="../kafli08/#uppflettitafla-lesin-ur-skra"><span class="std std-numref">8.2.5</span></a>. Prófið (t.d. með því að sýna úttakið sem skipunin
<code class="docutils literal notranslate"><span class="pre">print(eink_tafla)</span></code> skilar).</p></li>
<li><p><strong>Uppflettitafla.</strong> Skráin <code class="docutils literal notranslate"><span class="pre">nofn.txt</span></code> byrjar svona:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0176</span>  <span class="n">Kjartan</span> <span class="n">Valur</span> <span class="n">Jónsson</span>
<span class="mi">0542</span>  <span class="n">Aðalheiður</span> <span class="n">Pétursdóttir</span>
<span class="mi">0970</span>  <span class="n">Sigrún</span> <span class="n">Ása</span> <span class="n">Jónsdóttir</span>
</pre></div>
</div>
<p>Prófnúmerið er sem sé aðskilið frá nafninu með tveimur bilum og svo er nafnið
ýmist með millinafni eða án. Til að höndla þetta er hægt að nota <code class="docutils literal notranslate"><span class="pre">split</span></code>
með viðbótarviðfangi sem tilgreinir hve oft á að skipta. Ef <code class="docutils literal notranslate"><span class="pre">lína</span></code> er
fyrsta línan í skránni mundi</p>
<blockquote>
<div><p><code class="code docutils literal notranslate"><span class="pre">(nr,nafn)</span> <span class="pre">=</span> <span class="pre">lína.decode().strip().split(maxsplit=1)</span></code></p>
</div></blockquote>
<p>skipta strengnum rétt í tvo hluta, númer og nafn (<code class="docutils literal notranslate"><span class="pre">strip()</span></code> þarf að vera
með hér til að losna við línuskiptatákn). Notið þetta trix til að lesa
nafnaskrána inn í uppflettitöflu <code class="docutils literal notranslate"><span class="pre">nafn_tafla</span></code> sem nota má til að fletta upp
á nafni útfrá prófnúmeri. Prófið með sama hætti og fyrr.</p>
</li>
<li><p><strong>Úskrift lista.</strong> Skrifið forrit sem rennir í gegn um prófnúmerin í
<code class="docutils literal notranslate"><span class="pre">eink_tafla</span></code>, flettir upp nafni hvers nemanda í <code class="docutils literal notranslate"><span class="pre">nafn_tafla</span></code>, og skrifar
allt þrennt: prófnúmer, einkunn, og nafn í snyrtilegri töflu með fyrirsögnum
og dálkum sem standast á.</p></li>
<li><p><strong>Hæsta einkunn.</strong> Skrifið loks forrit sem ákvarðar hver fékk hæstu
einkunnina og skrifar nafn hans/hennar ásamt einkunninni (gera má ráð fyrir
að það sé bara einn). Notið lykkju og uppfærið inni í lykkjunni, í hvert sinn
sem einkunn er hærri en sú hæsta sem sést hefur, bæði hæstu einkunnina og
nafn þess sem hana fékk. Forritið ætti að skrifa: <cite>Íris María Birgisdóttir
var hæst með 10.0</cite>).</p></li>
</ol>
<div class="athugid admonition">
<p class="admonition-title">Athugasemd: Lausn með NumPy</p>
<p>Forritin í liðum 1 og 2 má líka útfæra með NumPy; liður 1 er einfaldur:
dálkar skrárinnar eru lesnir inn með <code class="docutils literal notranslate"><span class="pre">np.loadtxt</span></code> (sbr. kafla
<a class="reference internal" href="../kafli10/#innlestur-og-utskrift"><span class="std std-numref">10.6</span></a>) og svo er uppflettitaflan búin til með
<code class="docutils literal notranslate"><span class="pre">dict(zip(...))</span></code>, eins og í seinna sýnidæminu í <a class="reference internal" href="../kafli08/#uppflettitafla-lesin-ur-skra"><span class="std std-numref">8.2.5</span></a>. Aftur er nafnaskráin erfiðari. Einn möguleiki er að lesa
hana inn með <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">np.loadtxt(...,</span> <span class="pre">dtype=str,</span> <span class="pre">delimiter=',')</span></code>. Af því að
það eru engar kommur í skránni skilar þetta lista með línum skrárinnar.
Svo mætti ná í númerin með yfirgripi (<em>comprehension</em>) svona:</p>
<blockquote>
<div><p><code class="code docutils literal notranslate"><span class="pre">nr</span> <span class="pre">=</span> <span class="pre">[l.split(maxsplit=1)[0]</span> <span class="pre">for</span> <span class="pre">l</span> <span class="pre">in</span> <span class="pre">L]</span></code></p>
</div></blockquote>
<p>og nöfnin með samskonar hætti þar sem <code class="docutils literal notranslate"><span class="pre">[1]</span></code> kemur í stað <code class="docutils literal notranslate"><span class="pre">[0]</span></code></p>
</div>
<div class="athugid admonition">
<p class="admonition-title">Athugasemd: Lausn með Pandas</p>
<p>Það er líka hægt nota Pandas í liðum 1 og 2. Skrárnar má lesa með
<code class="docutils literal notranslate"><span class="pre">pd.read_fwf</span></code> (sjá töflu <a class="reference internal" href="../kafli15/#pandas-innlestur"><span class="std std-numref">15.3</span></a>). Með því falli
leysist flækjan í innlestrinum í lið 2 eiginlega sjálfkrafa því Pandas skoðar
skrána og finnur sjálfkrafa út hvernig á að skipta hverri línu í númer og
nafn. Athugið að nota þarf bæði <code class="docutils literal notranslate"><span class="pre">names=...</span></code> og <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code>. Svo er hægt
að nota <code class="docutils literal notranslate"><span class="pre">dict(zip(...))</span></code> eins og með NumPy, og zippinu má beita beint á
Pandas-dálkana eins og nefnt er í kafla <a class="reference internal" href="../kafli15/#innbygg-python-foll-og-pandas"><span class="std std-numref">15.4</span></a>.</p>
</div>
</section>
<section id="kosningaurslit">
<h1><span class="section-number">16  </span>Kosningaúrslit<a class="headerlink" href="#kosningaurslit" title="Permalink to this heading"></a></h1>
<ol class="arabic">
<li><p><strong>Útprentun úrslita.</strong> Í skránni <a class="reference external" href="https://cs.hi.is/python/kosningar-2021.txt">https://cs.hi.is/python/kosningar-2021.txt</a> eru úrslit nýjustu
Alþingiskosninga (eftir endurtalningu í NV-kjördæmi). Lesið skrána,
annaðhvort með hjálp urlopen (sbr. kafla <a class="reference internal" href="../kafli08/#innlestur-textaskrar-af-vefnum"><span class="std std-numref">8.2.4</span></a> og <a class="reference internal" href="../kafli09/#daemi-um-teikningu-talnagagna"><span class="std std-numref">9.3.2</span></a>) eða með NumPy, og skrifið
niðurstöðuna með eftirfarandi sniði:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Flokkur Atkvæði Hlutfall Þingsæti
–––––––––––––––––––––––––––––––––
   B     34501    17.3%     13
   C     16628     8.3%      5
...
</pre></div>
</div>
<p>Athugið að það þarf að lesa alla töfluna inn í lista fyrst svo hægt sé að
reikna heildarfjölda atkvæða til að geta reiknað hlutfall hvers flokks.</p>
</li>
<li><p><strong>Aukamenn.</strong> Það eru nokkuð flóknar reglur notaðar til að finna
þingsætafjöldan og ekki víst að alltaf komi sanngjörn niðurstaða. Til að
skoða það mætti reikna svonefnda <strong>sætishluti</strong>, eða þingsætin sem brot, og
sleppa þeim flokkum sem ekki komu manni inn (til þess þarf að fá 5%
heildaratkvæða, og J, O og Y náðu því ekki). Það eru alls 63 þingsæti, og ef
<span class="math notranslate nohighlight">\(A\)</span> er heildaratkvæðafjöldi þeirra flokka sem komu inn manni og
<span class="math notranslate nohighlight">\(a_i\)</span> eru atkvæði flokks <span class="math notranslate nohighlight">\(i\)</span> þá er sætishlutur hans</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[s_i = 63 \frac{a_i}{A}\]</div>
</div></blockquote>
<p>Búið til forrit til að skrifa út töflu eins og í lið 1, en bara með þeim 8
flokkum sem komu manni að, og með viðbótardálki með sætishlutunum.</p>
<p>Bætið svo við textareit og segið örfá orð um það hvort niðurstaðan hafi verið
sanngjörn eða hvort einhver flokkur (eða flokkar) hafi grætt (fengið
<em>aukamann</em>), og þá á kostnað hverra.</p>
</li>
<li><p><strong>Tafla með flokkanöfnum.</strong> Í skránni <a class="reference external" href="https://cs.hi.is/python/flokksnofn.txt">https://cs.hi.is/python/flokksnofn.txt</a> eru listabókstafir í fyrsta dálki og
þar fyrir aftan eru nöfn flokkanna, sem geta verið tvö eða fleiri orð. Lesið
þessa töflu inn í uppflettitöflu eins og gert er í <a class="reference internal" href="#sameining-nafnaskrar-og-einkunnaskrar"><span class="std std-numref">verkefni
15b</span></a>. Reyndar er skráin með tab-táknum
á eftir listabókstöfumum sem auðveldar aðeins NumPy innlestur, því hægt er að
tilgreina <code class="docutils literal notranslate"><span class="pre">delimiter</span> <span class="pre">=</span> <span class="pre">&quot;\t&quot;</span></code> til að aðgreina listabókstafi og flokksnöfn,
t.d.</p>
<p><code class="code docutils literal notranslate"><span class="pre">(bókst,</span> <span class="pre">flokkur)</span> <span class="pre">=</span> <span class="pre">np.loadtxt(url,</span> <span class="pre">delimiter='t',</span> <span class="pre">dtype=str).T.tolist()</span></code></p>
<p>Skrifið svo út töflu eins og gert var í lið 1, en með nýjum dálki með nöfnum
flokkanna, sem flett er upp í uppflettitöflunni.</p>
</li>
</ol>
<p>Athugið að allar töflurnar sem þið prentið út þurfa að vera snyrtilegar, með
fyrirsögnum, hæfilegum aukastafafjölda í tölum, vinstri-jöfnuðum textadálkum
og hægri-jöfnuðum talnadálkum.</p>
</section>
<section id="dalkar-i-csv-skra-leyst-me-colab">
<h1><span class="section-number">17  </span>Dálkar í CSV-skrá [leyst með Colab]<a class="headerlink" href="#dalkar-i-csv-skra-leyst-me-colab" title="Permalink to this heading"></a></h1>
<p>Í kafla <a class="reference internal" href="../kafli08/#csv-lestur-dalka"><span class="std std-numref">8.3.6</span></a> var skoðað hvernig hægt er að lesa dálk úr
CSV-skrá og hér æfum við okkur í því, og líka hvernig búa má til skrár.</p>
<ol class="arabic">
<li><figure class="align-right" style="width: 8cm">
<img alt="../_images/aefing-14.jpg" src="../_images/aefing-14.jpg" />
</figure>
<p><strong>Ný textaskrá í Colab.</strong> Það er hægt að búa til skrá í <em>content</em> möppunni í
Colab með því að smella á möppu- táknið á vinstri spássíu, hægri-smella svo á
möppuna með upp-örinni og velja svo <em>New file</em> sbr. myndina hér t.h.</p>
<p>Síðan má opna skrána með því að tvísmella á hana og svo má slá gögn inn í
hana. Með því að smella á nafn skrárinnar efst í hægri spássíu vistast
breytingar. Notið þessa aðferð til að búa til skrá <code class="docutils literal notranslate"><span class="pre">malmar.txt</span></code> með
innihaldinu sem er sýnt í kafla <a class="reference internal" href="../kafli08/#csv-lestur-bilafmark"><span class="std std-numref">8.3.4</span></a> (og <a class="reference external" href="https://cs.hi.is/python/malmar.txt">líka hér</a>).</p>
</li>
<li><p><strong>Náð í dálk</strong>. Hér á að ná í lista með eðlisþyngdum. Búið til lesara fyrir
málma-skrána eins og gert er í kafla <a class="reference internal" href="../kafli08/#csv-lestur-bilafmark"><span class="std std-numref">8.3.4</span></a>, en
breytið honum svo í lista í staðinn fyrir að nota hann í for-lykkju, eins og
útskýrt er í kafla <a class="reference internal" href="../kafli08/#csv-lestur-dalka"><span class="std std-numref">8.3.6</span></a>. Náið loks í eðlisþyngdirnar úr
dálki 1 sem kommutölur eins og líka er útskýrt í þeim kafla. <br> <br></p></li>
<li><p><strong>Skrá hlaðið niður og upp</strong>. Prófið að lokum að hlaða skránni niður frá
Colab-skýinu, breyta henni með ritli á eigin tölvu og hlaða henni aftur upp.</p></li>
</ol>
</section>
<section id="fallateikning">
<h1><span class="section-number">18  </span>Fallateikning<a class="headerlink" href="#fallateikning" title="Permalink to this heading"></a></h1>
<ol class="arabic">
<li><p>Skrifið forrit sem reiknar fallsgildi fallsins:</p>
<div class="math notranslate nohighlight">
\[f(x) = (x+3)(x+2)x(x-2)(x-3)\]</div>
<p>Prófið t.d. að reikna f(1) (á að gefa 24)</p>
</li>
<li><p>Búið til vandaða teikningu af fallinu á bilinu <span class="math notranslate nohighlight">\([-3.4, 3.4]\)</span> sbr. kafla
<a class="reference external" href="https://cs.hi.is/python/kafli09/#teikning-af-grofum-falla">9.6</a>. Notið
<code class="docutils literal notranslate"><span class="pre">linspace</span></code> fallið og stikana/föllin <code class="docutils literal notranslate"><span class="pre">xlim</span></code>, <code class="docutils literal notranslate"><span class="pre">ylim</span></code>, <code class="docutils literal notranslate"><span class="pre">xticks</span></code>,
<code class="docutils literal notranslate"><span class="pre">yticks</span></code>, <code class="docutils literal notranslate"><span class="pre">linewidth</span></code>, <code class="docutils literal notranslate"><span class="pre">color</span></code>, <code class="docutils literal notranslate"><span class="pre">axvline</span></code>, <code class="docutils literal notranslate"><span class="pre">axhline</span></code>, <code class="docutils literal notranslate"><span class="pre">grid</span></code>,
<code class="docutils literal notranslate"><span class="pre">box</span></code> og <code class="docutils literal notranslate"><span class="pre">tick_params</span></code> með hæfilegum viðföngum.</p></li>
</ol>
</section>
<section id="hiti-og-urkoma">
<h1><span class="section-number">19  </span>Hiti og úrkoma<a class="headerlink" href="#hiti-og-urkoma" title="Permalink to this heading"></a></h1>
<p>Í þessu verkefni ráðið þið hvort þið lesið gögnin með aðstoð <code class="docutils literal notranslate"><span class="pre">urlopen</span></code> (sjá
kafla <a class="reference internal" href="../kafli08/#innlestur-textaskrar-af-vefnum"><span class="std std-numref">8.2.4</span></a> og <a class="reference internal" href="../kafli09/#daemi-um-teikningu-talnagagna"><span class="std std-numref">9.3.2</span></a>), csv-lesara (sjá <a class="reference internal" href="../kafli08/#na-i-dalk-i-csv-skra"><span class="std std-numref">8.3.6</span></a>) eða NumPy (sjá <a class="reference internal" href="../kafli10/#innlestur-og-utskrift"><span class="std std-numref">10.6</span></a>).</p>
<ol class="arabic">
<li><p><strong>Veðurskrá lesin.</strong> Í skránni <a class="reference external" href="https://cs.hi.is/python/hiti-urkoma.txt">cs.hi.is/python/hiti-urkoma.txt</a> eru gögn um meðalárshita og úrkomu í
Stykkishólmi 1949–2018. Lesið gögnin í skrána inn í þrjá lista og prentið út
upplýsingar fyrir fyrstu 5 og síðustu 5 árin (<code class="docutils literal notranslate"><span class="pre">x[-5:]</span></code> gefur öftustu 5 stök í x).</p></li>
<li><p><strong>Meðalhiti og köld ár.</strong> Notið föllin í köflum <a class="reference internal" href="../kafli06/#sofn-af-tolum"><span class="std std-numref">6.3</span></a> og <a class="reference internal" href="../kafli06/#allar-runur"><span class="std std-numref">6.4</span></a> til að
finna:</p>
<ul class="simple">
<li><p>meðalhita allra áranna (summa deilt með fjölda)</p></li>
<li><p>kaldasta árið og meðalhita þess (notið <code class="docutils literal notranslate"><span class="pre">min</span></code> til að finna hitann og
<code class="docutils literal notranslate"><span class="pre">R.index</span></code> til að finna árið)</p></li>
<li><p>hve mörg ár voru með meðalhita undir 3°C (hér má nota yfirgrip
(<em>comprehension</em>) sem býr til lista af rökgildum og svo <code class="docutils literal notranslate"><span class="pre">R.count()</span></code> en
það má líka nota einhverja aðra aðferð).</p></li>
</ul>
</li>
<li><p><strong>Línurit af hita.</strong> Teiknið línurit af hitanum með ártal á x-ás ásamt 11 ára hlaupandi
þríhyrningsmeðaltali sem lítur svona út eða því sem næst:</p>
<figure class="align-center" style="width: 16cm">
<img alt="../_images/stykkisholmshiti.jpg" src="../_images/stykkisholmshiti.jpg" />
</figure>
<p>Hér er fall til að reikna svoleiðis hlaupandi meðaltal (ef d er sleppt í
kallinu fær það sjálfgefið gildi 5, sem gefur 11 ár).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hlaupmeðal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;skilar lista með hlaupandi (2d+1)-sæta þríhyrn ingsmeðaltali&quot;&quot;&quot;</span>
  <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
  <span class="n">hm</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">n</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">-</span><span class="n">d</span><span class="p">)</span>
    <span class="n">M</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="n">d</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">w</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">M</span><span class="p">)]</span>
    <span class="n">hm</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">m</span><span class="o">+</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">w</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">m</span><span class="p">)])</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">hm</span>
</pre></div>
</div>
</li>
<li><p><strong>Súlurit af úrkomu</strong> Teiknið súlurit af úrkomunni sem lítur nokkurnvegin
svona út (myndin er 5x2 tommur og liturinn heitir ‚chocolate‘ en þið megið
velja lit að vild):</p>
<figure class="align-center" style="width: 10cm">
<img alt="../_images/stykkisholmsurkoma.jpg" src="../_images/stykkisholmsurkoma.jpg" />
</figure>
</li>
<li><p><strong>Punktarit af úrkomu og hita.</strong> Teiknið að lokum punktarit (<em>scatter plot</em>)
af úrkomu og hita. Byrjið á að fá mynd eins og þá sem er vinstra megin að neðan.</p>
<p>Búið svo til til mynd eins og þá sem er hægra megin með því að láta c-stika í
<code class="docutils literal notranslate"><span class="pre">scatter</span></code> vera lista með ártölum. Kallið loks á <code class="docutils literal notranslate"><span class="pre">plt.colorbar(label=&quot;ár&quot;)</span></code>
(notið samt ykkar nafn á ártalalistanum) og þá birtist litaskalinn sjálfkrafa.</p>
<figure class="align-center" style="width: 18cm">
<img alt="../_images/stykkisholmsskatter.jpg" src="../_images/stykkisholmsskatter.jpg" />
</figure>
</li>
<li><p><strong>Túlkun niðurstaðna</strong>. Búið til textareit og skrifið nokkrar línur um það hvað
lesa má út úr myndunum. Bætið gjarna við viðbótarupplýsingum sem fást með
útreikningum í Python (t.d. meðalhiti á tilteknum köldum/hlýjum tímabilum,
staðalfrávik einhverra valdra stærða, fylgni milli hita og úrkomu).</p></li>
</ol>
</section>
<section id="numpy-og-vigrar">
<span id="id4"></span><h1><span class="section-number">20  </span>Numpy og vigrar<a class="headerlink" href="#numpy-og-vigrar" title="Permalink to this heading"></a></h1>
<p>Búið til vigrana <span class="math notranslate nohighlight">\(x = (6,7,18)\)</span> og <span class="math notranslate nohighlight">\(y = (1,1,6)\)</span>. Reiknið svo:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(y - x\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2y + x\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\((x + y)\cdot(x - y)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\|x\|^2 - \|y\|^2\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\|x + y\|\cdot\|x - y\|\)</span></p></li>
</ol>
<figure class="align-right" style="width: 10cm">
<img alt="../_images/shell-sort.jpg" src="../_images/shell-sort.jpg" />
</figure>
</section>
<section id="raa-i-islenska-stafrofsro">
<h1><span class="section-number">21  </span>Raðað í íslenska stafrófsröð<a class="headerlink" href="#raa-i-islenska-stafrofsro" title="Permalink to this heading"></a></h1>
<p>Bæði <code class="docutils literal notranslate"><span class="pre">sort</span></code>-fallið og <code class="docutils literal notranslate"><span class="pre">sorted</span></code>-aðferðin sem útskýrð eru köflum
<a class="reference internal" href="../kafli06/#bua-til-sofn"><span class="std std-numref">6.1</span></a> og <a class="reference internal" href="../kafli06/#bara-listar"><span class="std std-numref">6.5</span></a> geta raðað lista af strengjum í
enskri stafrófsröð, en því miður lenda séríslenskir stafir ekki á réttum stað í
röðinni. Séríslensku stafirnir eru aftast og ekki í réttri röð. Til að laga
þetta þarf dálítið stúss. Bæði föllin geta tekið viðbótarviðfang, <code class="docutils literal notranslate"><span class="pre">key</span></code> sem er
fall til að breyta röðinni. Einfalt dæmi er að rita:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">L.sort(key=str.lower)</span></code></p>
</div></blockquote>
<p>til að raða lista af af strengjum í enska stafrófsröð óháð því hvort þeir hafa
lágstafi eða hástafi. Hér er slíkt fall fyrir íslenska stafrófsröð (sem KJ tókst
að böggla saman í allmörgum tilraunum). Áhugasamir geta ef þeir vilja stúderað
það og e.t.v. lært eitthvað af því (notkunin <code class="docutils literal notranslate"><span class="pre">íslenska.a</span></code> er kölluð „function
attribute“)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">íslenska</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;notað sem &#39;key&#39; í sort eða sorted til að raða í íslenska stafrófsröð,</span>
<span class="sd">    t.d. print(sorted([&#39;ár&#39;,&#39;bára&#39;,&#39;bali&#39;,&#39;akur&#39;], key=íslenska))&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">íslenska</span><span class="o">.</span><span class="n">k</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">t</span>
<span class="n">íslenska</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;0123456789aábcdðeéfghiíjklmnoópqrstuúvwxyýzþæö&#39;</span><span class="p">)</span>
<span class="n">íslenska</span><span class="o">.</span><span class="n">k</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">íslenska</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">íslenska</span><span class="o">.</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<ol class="arabic">
<li><p>Notið <code class="docutils literal notranslate"><span class="pre">sort</span></code> eða <code class="docutils literal notranslate"><span class="pre">sorted</span></code> til að raða listanum <code class="docutils literal notranslate"><span class="pre">[&quot;Ýmir&quot;,</span> <span class="pre">&quot;Una&quot;,</span>
<span class="pre">&quot;Ása&quot;,</span> <span class="pre">&quot;Örn&quot;,</span> <span class="pre">&quot;Þór&quot;,</span> <span class="pre">&quot;Már&quot;,</span> <span class="pre">&quot;Mist&quot;]</span></code>, fyrst án þess að nota <code class="docutils literal notranslate"><span class="pre">key</span></code> (það
kemur bandvitlaus röð) og svo með <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></li>
<li><p>Í skránni <a class="reference external" href="https://cs.hi.is/python/kennitolur.txt">https://cs.hi.is/python/kennitolur.txt</a> eru skáldaðar upplýsingar um 15
próftaka, nöfn, prófnúmer og kennitölur, aðskildar með kommum. Lesið skránna
inn í þrjá lista annaðhvort með csv-pakkanum (sjá kafla <a class="reference internal" href="../kafli08/#innlestur-me-pakkanum-csv"><span class="std std-numref">8.3.2</span></a>) eða með NumPy. Raðið svo nöfnunum í íslenska stafrófsröð
og prentið út, eitt á hverja línu.</p></li>
<li><p>Til að fá tilsvarandi prófnúmer og kennitölu aftan við hvert nafn er t.d.
hægt að nota uppflettitöflur. Ef L1 og L2 eru jafnlangir listar þá gefur:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">tafla</span> <span class="pre">=</span> <span class="pre">dict(zip(L1,</span> <span class="pre">L2))</span></code></p>
</div></blockquote>
<p>töflu frá L1 til L2 (sbr. sýnidæmi aftast í kafla <a class="reference internal" href="../kafli08/#innlestur-skraa"><span class="std std-numref">8.2</span></a>).
Búið til slíka uppflettitöflu frá nöfnum yfir í prófnúmer og aðra yfir í
kennitölur og skrifið út nýja töflu með þessum upplýsingum, með fyrirsögnum
og snyrtilega upp setta.</p>
</li>
</ol>
</section>
<section id="sinussveiflur">
<h1><span class="section-number">22  </span>Sínussveiflur<a class="headerlink" href="#sinussveiflur" title="Permalink to this heading"></a></h1>
<p>Teiknið mynd af fallinu <span class="math notranslate nohighlight">\(f(x) = \sin x + \sin 2x - 2 \sin 3x\)</span> á bilinu
<span class="math notranslate nohighlight">\([-\pi, 3\pi]\)</span>, sbr. dæmi V17. Hér er dæmi um slíka mynd með ýmsum
fídusum, en ekki er farið fram á að þeir séu allir notaðir.</p>
<figure class="align-center" style="width: 16cm">
<img alt="../_images/sinsveiflur.jpg" src="../_images/sinsveiflur.jpg" />
</figure>
<p>[til að láta ásamerkingarnar koma við ásana sjálfa notaði ég gúgltöfrabrögð:
<code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">s</span> <span class="pre">in</span> <span class="pre">['left','bottom']:</span> <span class="pre">plt.gca().spines[s].set_position('zero')</span></code>]</p>
</section>
<section id="malmavinnsla">
<h1><span class="section-number">23  </span>Málmavinnsla<a class="headerlink" href="#malmavinnsla" title="Permalink to this heading"></a></h1>
<p>Í lotukerfinu hefur hvert frumefni <strong>sætistölu</strong> (<em>atomic number</em>), <strong>lotu</strong>
(<em>period</em>) og <strong>flokk</strong> (<em>group</em>). Sætistalan gefur fjölda rafeinda
(<em>electrons</em>) eða róteinda (<em>protons</em>) í óhlöðnu atómi, lotan segir til um hve
mörg hvel (<em>atomic orbitals</em>) af rafeindum óhlaðið atóm hefur, en flokkurinn
gefur til kynna fjölda rafeinda á ytri hvelum. Fyrir utan helíum eru <span class="math notranslate nohighlight">\(F\)</span>
rafeindir á ysta hveli í atómum í flokki <span class="math notranslate nohighlight">\(F\)</span> fyrir <span class="math notranslate nohighlight">\(F = 1, 2\)</span> og
<span class="math notranslate nohighlight">\(F - 10\)</span> rafeindir eru þar ef <span class="math notranslate nohighlight">\(11 \leq F \leq 18\)</span>. Í flokkum 3–10 er
fjöldinn 1–2, oftast 2.</p>
<figure class="align-center" id="lotukerfi" style="width: 100%">
<img alt="../_images/lotukerfi.jpg" src="../_images/lotukerfi.jpg" />
<figcaption>
<p><span class="caption-number">Mynd 23.1: </span><span class="caption-text"><strong>Lotukerfið</strong> eins og það birtist á <a class="reference external" href="https://is.wikipedia.org/wiki/Lotukerfið">íslensku Wikipedíunni</a>. Á <a class="reference external" href="https://ptable.com">ptable.com</a> er önnur ágæt gagnvirk (<em>interactive</em>) útgáfa.</span><a class="headerlink" href="#lotukerfi" title="Varanlegur hlekkur á þessa mynd"></a></p>
</figcaption>
</figure>
<p>Ysta hvel telst fullskipað ef þar eru 8 rafeindir (2 fyrir helíum). Ef þær eru 1–3
myndar atómið gjarna jákvæða jón, t.d. <span class="math notranslate nohighlight">\(\text{Na}^+\)</span>, <span class="math notranslate nohighlight">\(\text{Ca}^{2+}\)</span> eða
<span class="math notranslate nohighlight">\(\text{Al}^{3+}\)</span>, og ef þær eru 5–7 verður jónin neikvæð, t.d. <span class="math notranslate nohighlight">\(\text{Cl}^–\)</span> eða
<span class="math notranslate nohighlight">\(\text{N}^{3–}\)</span>. Frumefni með fullskipað ysta hvel, helíum, neon, argon o.s.frv.
nefnast <strong>eðallofttegundir</strong> (<em>noble gases</em>).</p>
<ol class="arabic">
<li><p><strong>Sætistölur eðallofttegunda</strong> Hægt er að reikna sætistölu eðallofttegundar nr. <span class="math notranslate nohighlight">\(k\)</span>,
<span class="math notranslate nohighlight">\(s_k\)</span>, með eftirfarandi formúlu:</p>
<div class="math notranslate nohighlight">
\[\begin{split}s_k = \dfrac{(k+1)(k+2)(k+3)}{6} +
\begin{cases}
-2             &amp;\text{ ef }k\text{ er oddatala}\\
\dfrac{k}{2}-1 &amp;\text{ ef }k\text{ er slétt}
\end{cases}\end{split}\]</div>
<p>Skrifið fall sem reiknar skv. þessari formúlu og prófið það fyrir
<span class="math notranslate nohighlight">\(k=1,2,...,7\)</span>. Ath. að allar deilingar ganga upp svo gott er að nota
<code class="docutils literal notranslate"><span class="pre">//</span></code> virkjan svo útkoman verði af heiltölutagi.</p>
</li>
<li><p><strong>Lotur og flokkar</strong> Hægt er að ákvarða lotu frumefnis með því að skoða hvar sætistala
þess lendir á milli eðallofttegunda. Ef <span class="math notranslate nohighlight">\(s\)</span> er sætistalan og</p>
<div class="math notranslate nohighlight">
\[s_{k-1} &lt; s \leq s_k\]</div>
<p>þá er frumefnið í lotu <span class="math notranslate nohighlight">\(k\)</span>. Flokkurinn fæst svo með:</p>
<div class="math notranslate nohighlight">
\[\begin{split}F =
\begin{cases}
1                     &amp;\text{ef }s = 1\\
s - s_{k-1}           &amp;\text{ef }1 &lt; s \leq s_{k-1} + 2\\
\max(3, 18 + s - s_k) &amp;\text{annars}
\end{cases}\end{split}\]</div>
<p>Skrifið föll <code class="docutils literal notranslate"><span class="pre">lota(s)</span></code> og <code class="docutils literal notranslate"><span class="pre">flokkur(s)</span></code> sem ákvarða lotu og flokk
frumefnis með sætistölu <span class="math notranslate nohighlight">\(s\)</span>. Prófið með a.m.k. fjórum frumefnum, þar á
meðal einhverjum af sjaldgæfu jarðmálmunum, sem hafa sætistölur á bilinu
57–71 og eru í lotu 6 og flokki 3 skv. lotukerfinu á <a class="reference internal" href="#lotukerfi"><span class="std std-numref">mynd
23.1</span></a>. <strong>Leiðbeining:</strong> Lotuna má finna með while-lykkju og
fallinu úr lið 1. Til að finna flokkinn er gott að nota if–elif–else.</p>
<figure class="align-right" id="id11" style="width: 10cm">
<img alt="../_images/gull.jpg" src="../_images/gull.jpg" />
<figcaption>
<p><span class="caption-number">Mynd 23.2: </span><span class="caption-text"><strong>Gull og kvikasilfur.</strong> Mynd úr bókinni „Efnið“ sem kom út í bókaflokknum
„Alfræðasafn AB“ árið 1968.</span><a class="headerlink" href="#id11" title="Varanlegur hlekkur á þessa mynd"></a></p>
</figcaption>
</figure>
</li>
<li><p><strong>Íslensk og ensk málmanöfn.</strong> Með NumPy skipununum í kafla
<a class="reference internal" href="../kafli10/#skrar-ur-excel"><span class="std std-numref">10.6.4</span></a> má lesa skrána
<a class="reference external" href="https://cs.hi.is/python/allir-malmar.txt">https://cs.hi.is/python/allir-malmar.txt</a> inn í vigra <em>efnatákn</em>, <em>nafn</em>,
<em>sætistala</em>, <em>eðlisþyngd</em>, <em>bræðslumark</em> og <em>enskt_nafn</em>. Gerið það og búið í
framhaldi til uppflettitöflu milli nafnanna með aðstoð <code class="docutils literal notranslate"><span class="pre">dict</span></code> og <code class="docutils literal notranslate"><span class="pre">zip</span></code>
eins og gert er í sýnidæminu aftast í kafla <a class="reference internal" href="../kafli08/#innlestur-skraa"><span class="std std-numref">8.2</span></a> og í
<a class="reference internal" href="#raa-i-islenska-stafrofsro"><span class="std std-numref">verkefni 21c</span></a>. Náið líka í fallið
<code class="docutils literal notranslate"><span class="pre">íslenska</span></code> úr sama verkefni og notið töfluna og þetta fall til að prenta út
orðalista með íslenskum málmanöfnum í stafrófsröð ásamt enskum þýðingum.</p></li>
<li><p><strong>Eðlisþyngd eftir sæti.</strong> Teiknið punktarit af sætistölu og eðlisþyngd sem
er litað með lotu í lotukerfinu (sbr. <a class="reference internal" href="#hiti-og-urkoma"><span class="std std-numref">verkefni 19</span></a> –
ath. að Matplotlib getur teiknað hvort sem er lista af tölum eða NumPy
vigra). Munið að bæta <code class="docutils literal notranslate"><span class="pre">colorbar</span></code> við myndirnar.</p></li>
<li><p><strong>Fleiri myndir??</strong> Ef tími vinnst til má t.d. teikna samskonar mynd af sætistölu
og bræðslumarki.</p></li>
</ol>
</section>
<section id="kosningaurslit-i-lit">
<h1><span class="section-number">24  </span>Kosningaúrslit í lit<a class="headerlink" href="#kosningaurslit-i-lit" title="Permalink to this heading"></a></h1>
<p>Í kafla <a class="reference internal" href="../kafli09/#daemi-um-teikningu-talnagagna"><span class="std std-numref">9.3.2</span></a> var gefið sýnidæmi um einfalda
teikningu súlurits af kosningaúrslitum 2021. Þar voru gögnin lesin með aðstoð
<code class="docutils literal notranslate"><span class="pre">urlopen</span></code>, en í þessu verkefni verða þau lesin með NumPy og jafnframt búið
til fínna súlurit þar sem:</p>
<blockquote>
<div><p><cite>•</cite>  súlurnar eru litaðar í flokkslitum <br>
<cite>•</cite> nöfn flokkanna koma neðan við hverja súlu <br>
<cite>•</cite> atkvæði eru sýnd í prósentum <br>
<cite>•</cite> þingsætafjöldi er skrifaður ofan við hverja súlu <br>
<cite>•</cite> ýmis önnur atriði eru lagfærð</p>
</div></blockquote>
<p>Hér er mynd af súluritinu sem stefnt er að:</p>
<blockquote>
<div><figure class="align-center" style="width: 13cm">
<img alt="../_images/kosningar-2021-%C3%AD-lit.jpg" src="../_images/kosningar-2021-%C3%AD-lit.jpg" />
</figure>
</div></blockquote>
<ol class="arabic">
<li><p><strong>Úrslit kosninganna</strong> eru í skránni <a class="reference external" href="https://cs.hi.is/python/kosningar-2021.txt">https://cs.hi.is/python/kosningar-2021.txt</a>. Það eru þrír dálkar, með
listabókstaf, atkvæðatölu og þingsætafjölda fyrir hvert framboð. Skrána er
hægt að lesa með <code class="docutils literal notranslate"><span class="pre">numpy.loadtxt</span></code> eins og lýst er í kafla
<a class="reference internal" href="../kafli10/#numpy-skrar-me-textadalkum"><span class="std std-numref">10.6.3</span></a>. Skrifið fall <code class="docutils literal notranslate"><span class="pre">lesaúrslit()</span></code> sem les
þessa skrá og skilar þremur listum, <code class="docutils literal notranslate"><span class="pre">listi</span></code>, <code class="docutils literal notranslate"><span class="pre">atkvæði</span></code> og <code class="docutils literal notranslate"><span class="pre">þingsæti</span></code> með
innihaldinu. Prófið.</p></li>
<li><p><strong>Flokkslitina</strong> má finna á <a class="reference external" href="https://is.wikipedia.org/wiki/Sni%C3%B0:Flokkslitur">Wikipedíu</a> sem HEX-strengi, en
það er í lagi því Matplotlib skilur það. Litirnir hafa verið lagaðir
lítilsháttar og settir ásamt flokksnöfnum í skrána
<a class="reference external" href="https://cs.hi.is/python/flokkslitir.txt">https://cs.hi.is/python/flokkslitir.txt</a>. Þar sem flokksnöfnin innihalda bil
eru dálkarnir afmarkaðir með kommum. Skráin er sem sé CSV-skrá og hana má
lesa eins og útskýrt er í kafla <a class="reference internal" href="../kafli10/#skrar-ur-excel"><span class="std std-numref">10.6.4</span></a>.</p>
<p>Skrifa skal fall <code class="docutils literal notranslate"><span class="pre">lesalitinöfn</span></code> sem les skrána og skilar þremur
strengjalistum, <code class="docutils literal notranslate"><span class="pre">stafur</span></code>, <code class="docutils literal notranslate"><span class="pre">litur</span></code> og <code class="docutils literal notranslate"><span class="pre">nafn</span></code> með innihaldinu. Það er
eitt smá-vesen: Litirnir byrja á <code class="docutils literal notranslate"><span class="pre">#</span></code> sem NumPy tekur sem <em>comment</em>. Til að
það gerist ekki þarf að kalla á loadtxt með</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">=</span> <span class="pre">np.loadtxt(skrá,</span> <span class="pre">...,</span> <span class="pre">comments=None).T</span></code></p>
</div></blockquote>
<p>Takið eftir að við notum annað breytunafn fyrir listabókstafina en í lið 1 svo
þau ruglist ekki saman. Prófið.</p>
</li>
<li><p><strong>Uppflettitöflur.</strong> Í kafla <a class="reference internal" href="../kafli08/#uppflettitafla-lesin-ur-skra"><span class="std std-numref">8.2.5</span></a> (og í
<a class="reference internal" href="#raa-i-islenska-stafrofsro"><span class="std std-numref">verkefni 21</span></a>) er sýnt hvernig auðvelt
er að búa til uppflettitöflur úr listum. Hér á að nota tvær töflur til að
fletta upp lit og nafni sem svara til listabókstafs:</p>
<blockquote>
<div><p>litatafla: listabókstafur <span class="math notranslate nohighlight">\(\longrightarrow\)</span> litur <br>
nafnatafla: listabókstafur <span class="math notranslate nohighlight">\(\longrightarrow\)</span> flokksnafn</p>
</div></blockquote>
<p>Skrifið fall sem býr til þessar töflur og skilar svo tveimur listum þar sem búið
er að fletta upp í þeim. Kallið á fallið á að vera:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">(litir,</span> <span class="pre">nöfn)</span> <span class="pre">=</span> <span class="pre">litirognöfn(listi,stafur,litur,nafn)</span></code></p>
</div></blockquote>
<p>Þegar búið er að búa til litatöfluna má nota yfirgrip (<em>comprehension</em>) til að
búa til litalistann:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">litir</span> <span class="pre">=</span> <span class="pre">[litatafla[st]</span> <span class="pre">for</span> <span class="pre">st</span> <span class="pre">in</span> <span class="pre">listi]</span></code></p>
</div></blockquote>
<p>og eins fyrir nöfnin. Prófið.</p>
<p>[Athugið að það eru 11 stök í vigrunum með kosningaúrslitunum, en 14 í
vigrunum sem koma úr lið 2. Hins vegar verða vigrarnir <code class="docutils literal notranslate"><span class="pre">litir</span></code> og <code class="docutils literal notranslate"><span class="pre">nöfn</span></code>
bara með 11 stökum, því við flettum bara upp á stöfunum í <code class="docutils literal notranslate"><span class="pre">listi</span></code> sem hefur
lengd 11.]</p>
</li>
<li><p><strong>Einfalt súlurit.</strong> Nú er auðvelt að búa til fyrstu útgáfu litaða súluritsins.
Náð er í nauðsynleg gögn með því kalla á föllin sem búin voru til í liðum
1–3. Svo er fjöldi súlna og staðsetning þeirra á x-ás fundin með <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span>
<span class="pre">len(listi)</span></code> og <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">range(n)</span></code>. Þá má teikna með:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">plt.bar(x,</span> <span class="pre">atkvæði,</span> <span class="pre">color</span> <span class="pre">=</span> <span class="pre">litir)</span></code></p>
</div></blockquote>
</li>
<li><p><strong>Fullgert súlurit.</strong> Nú á smám saman að bæta atriðum við súluritið til að
fullgera það. Stækkið myndina með því að nota <code class="docutils literal notranslate"><span class="pre">dpi</span></code> í <code class="docutils literal notranslate"><span class="pre">plt.figure</span></code>.
Atkvæðahlutfallið er auðvelt að reikna í NumPy með því að deila summu atkvæða
upp í atkvæðavigurinn: <code class="docutils literal notranslate"><span class="pre">hlutfall</span> <span class="pre">=</span> <span class="pre">atkvæði/sum(atkvæði)</span></code> og nota svo
hlutfall í staðinn fyrir atkvæði í plt.bar-skipuninni. Til að fá það sem
prósentur má kalla á eftirfarandi (töfra)fall.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">prósentuformat</span><span class="p">(</span><span class="n">ás</span><span class="p">):</span>
<span class="w">   </span><span class="sd">&quot;&quot;&quot;merkir ás (&quot;x&quot; eða &quot;y&quot;) með prósentum&quot;&quot;&quot;</span>
   <span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">FuncFormatter</span>
   <span class="n">ásar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span> <span class="c1"># get current axes</span>
   <span class="n">xy</span> <span class="o">=</span> <span class="n">ásar</span><span class="o">.</span><span class="n">xaxis</span> <span class="k">if</span> <span class="n">ás</span><span class="o">==</span><span class="s2">&quot;x&quot;</span> <span class="k">else</span> <span class="n">ásar</span><span class="o">.</span><span class="n">yaxis</span>
   <span class="n">xy</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{0:.0%}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">))</span>
</pre></div>
</div>
<p>Flokkanöfnin eru sett neðan við hverja súlu með <cite>xticks</cite>-skipun eins og í
sýnidæminu í kafla <a class="reference internal" href="../kafli09/#daemi-um-teikningu-talnagagna"><span class="std std-numref">9.3.2</span></a>, en hinsvegar þarf
að skrifa þau lóðrétt, og það er gert með viðfangi <code class="docutils literal notranslate"><span class="pre">rotation</span></code>, nánar
tiltekið:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">plt.xticks(x,</span> <span class="pre">nöfn,</span> <span class="pre">rotation=&quot;vertical&quot;)</span></code></p>
</div></blockquote>
<p>Þá er eftir að skrifa inn þingsætin. Til þess er notuð skipunin <code class="docutils literal notranslate"><span class="pre">text</span></code>,
sbr. <a class="reference internal" href="../kafli09/#text-falli"><span class="std std-numref">töflu 9.2</span></a> og líka fyrra sýnidæmið í
<a class="reference internal" href="../kafli09/#daemi-um-teikningu-talnagagna"><span class="std std-numref">kafla 9.3.2</span></a>. Við förum í lykkju yfir
x-hnitin í vigrunum og skrifum hvern þinsætafjölda ofan við sína súlu, t.d. í
13 punkta letri. Vigurinn hlutfall gefur y-hnit fyrir textana.</p>
<p>Þá er bara eftir síðsta töttsið. Stækkum y-ás með <code class="docutils literal notranslate"><span class="pre">plt.ylim(...)</span></code>, bætum
við titli, skýringu við y-ás, láréttum netlínum með <code class="docutils literal notranslate"><span class="pre">plt.grid(axis=&quot;y&quot;)</span></code>.
Mestu snyrtipinnarnir losa sig að lokum við <em>tick</em>-merkin með
<cite>plt.tick_params(length=0)</cite>.</p>
</li>
</ol>
</section>
<section id="jafna-bestu-linu">
<h1><span class="section-number">25  </span>Jafna bestu línu<a class="headerlink" href="#jafna-bestu-linu" title="Permalink to this heading"></a></h1>
<figure class="align-right" style="width: 9cm">
<img alt="../_images/besta-l%C3%ADna.jpg" src="../_images/besta-l%C3%ADna.jpg" />
</figure>
<p>Oft er línulegt samband á milli gagna, þannig að breytur stækka samhliða, en þó með ákveðinni skekkju, sbr. myndina hér til hliðar.</p>
<p>Með <strong>aðferð minnstu kvaðrata</strong> (<em>linear least squares method</em>) er fundin
<strong>jafna bestu línu</strong> með því að lágmarka kvaðratsummu fjarlægða milli línunnar
og gefins punktasafns, eins og lesa má um <a class="reference external" href="https://en.wikipedia.org/wiki/Linear_least_squares#Example">á Wikipedíu</a>. Það er líka hægt
að finna <strong>jöfnu bestu parabólu</strong> eins og sýnt er aðeins aftar í sömu
Wikipedíugrein.</p>
<p>Eftirfarandi skipanir:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">deg</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">)</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">deg</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>skila stuðlum í jöfnu bestu línu og jöfnu bestu parabólu fyrir punktasafnið <span class="math notranslate nohighlight">\((u_0, v_0), (u_1, v_1)\ldots\)</span>, þannig að jöfnur línunnar og parabólunnar eru:</p>
<div class="math notranslate nohighlight">
\[\begin{split}y &amp;= a x + b \\
y &amp;= A x^2 + B x + C\end{split}\]</div>
<p>Til að teikna línuna eða parabóluna er hægt að nota aðferðir kafla <a class="reference internal" href="../kafli09/#groffalla"><span class="std std-numref">9.6</span></a>, en reyndar er hægt að einfalda málið með því að notfæra sér numpy reikninga. Til teikna línuna á bilinu <span class="math notranslate nohighlight">\([x_\text{min}, x_\text{max}]\)</span> má t.d. nota:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">)</span>
<span class="n">yp</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">xp</span> <span class="o">+</span> <span class="n">b</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xp</span><span class="p">,</span><span class="n">yp</span><span class="p">,</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Reyndar þyrfti ekki nema tvo punkta á línunni, til dæmis <code class="docutils literal notranslate"><span class="pre">xp</span> <span class="pre">=</span> <span class="pre">np.linspace(xmin,</span> <span class="pre">ymin,</span> <span class="pre">2)</span></code> (eða <code class="docutils literal notranslate"><span class="pre">xp</span> <span class="pre">=</span> <span class="pre">np.array([xmin,ymin])</span></code>), en parabólan þarf fleiri punkta.</p>
<ol class="arabic">
<li><p>Skoðið framangreinda Wikipedugrein.</p></li>
<li><p>Í <a class="reference internal" href="#hiti-og-urkoma"><span class="std std-numref">verkefni 19e</span></a> voru teiknaðar myndir af
meðalárshita og ársúrkomu í Stykkishólmi 1949–2018. Gögnin eru í skránni
<a class="reference external" href="https://cs.hi.is/python/hiti-urkoma.txt">cs.hi.is/python/hiti-urkoma.txt</a>
og þau má lesa inn í þrjá vigra með:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">(ár,</span> <span class="pre">hiti,</span> <span class="pre">úrk)</span> <span class="pre">=</span> <span class="pre">np.loadtxt(&quot;https://cs.hi.is/python/hiti-urkoma.txt&quot;).T</span></code></p>
</div></blockquote>
<p>Gerið það og ákvarðið jöfnu bestu línu fyrir hita á x-ás og úrkomu á y-ás.
Teiknið bæði gögn og línu inn á sömu mynd. Látið myndina hafa stærð (12,6).</p>
</li>
<li><p>Teiknið nú punktarit af ári og ársmeðalhita, og teiknið inn á hana bæði bestu
línu og bestu parabólu. Setjið inn hæfilegar merkingar, m.a. ramma með
<code class="docutils literal notranslate"><span class="pre">legend</span></code>-skýringum.</p></li>
</ol>
</section>
<section id="reikningar-me-numpy">
<h1><span class="section-number">26  </span>Reikningar með NumPy<a class="headerlink" href="#reikningar-me-numpy" title="Permalink to this heading"></a></h1>
<ol class="arabic">
<li><p>Gefnir eru eftirfarandi vigrar og fylki:</p>
<div class="math notranslate nohighlight">
\[a = (3,2,8),\quad b = (2,0,1), \quad c = (-2,1,5)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}A = \begin{pmatrix}2&amp;4&amp;7\\3&amp;4&amp;8\\4&amp;6&amp;9\end{pmatrix}
\quad\text{og}\quad
B = \begin{pmatrix}5&amp;5&amp;5\\6&amp;6&amp;6\\7&amp;8&amp;9\end{pmatrix}\end{split}\]</div>
<ol class="arabic simple">
<li><p>Finnið <span class="math notranslate nohighlight">\(a\cdot b - \dfrac{c\cdot(Bb)}{3\|c\|}\)</span></p></li>
<li><p>Finnið <span class="math notranslate nohighlight">\(2(A^\text{T} + B^2)(a - 2b)\)</span></p></li>
<li><p>Ákvarðið <span class="math notranslate nohighlight">\(\det(A)\)</span> og <span class="math notranslate nohighlight">\(A^{-1}\)</span></p></li>
<li><p>Leysið jöfnuhneppið <span class="math notranslate nohighlight">\(Ax = b\)</span></p></li>
<li><p>Palli er með fimmkalla og tíkalla í vasanum, alls 23 peninga, samtals
170 kr. Hvað er hann með mikið af hvorri mynt?</p></li>
</ol>
</li>
<li><p>Skrifið fall til að leysa jöfnurnar:</p>
<div class="math notranslate nohighlight">
\[\sum_{j=0}^{i-1}(i-j)x_j + x_i = 2\quad (i=0,1,\ldots,n-1)\]</div>
<p>sbr. sýnidæmi og æfingu í kafla <a class="reference internal" href="../kafli11/#jofnuhneppi-me-n-oekktum"><span class="std std-numref">11.4</span></a>.
Prófið með n = 4 (ætti að gefa <span class="math notranslate nohighlight">\(x=(2,0,-2,-2)\)</span></p>
</li>
</ol>
</section>
<section id="korfuboltamenn">
<h1><span class="section-number">27  </span>Körfuboltamenn<a class="headerlink" href="#korfuboltamenn" title="Permalink to this heading"></a></h1>
<p>Skráin <a class="reference external" href="https://cs.hi.is/python/karfa.txt">cs.hi.is/python/karfa.txt</a> inniheldur þrjá
dálka með aldri hæð og þyngd 1064 bandarískra körfuboltamanna. Notið
<code class="docutils literal notranslate"><span class="pre">np.loadtxt</span></code> til að lesa skrána inn í þrjá vigra t.d. <cite>aldur</cite>, <cite>hæð</cite> og
<cite>þyngd</cite> eða <cite>a</cite>, <cite>h</cite> og <cite>þ</cite>. Eftirfarandi teikningar þarf að gera sæmilega
snyrtilega, m.a. merkja ása og setja inn titla og passa að þær séu mátulega
stórar. Þeir sem vilja mega setja einhverjar teikningar hlið við hlið með því að
nota <code class="docutils literal notranslate"><span class="pre">plt.subplot</span></code>, sbr. einfalda lýsingu <a class="reference external" href="https://www.w3schools.com/python/matplotlib_subplots.asp">hér</a>.</p>
<ol class="arabic simple">
<li><p>Teiknið þrjú (einföld) súlurit af aldri, hæð og þyngd.</p></li>
<li><p>Teiknið punktarit með hæð á x-ás og þyngd á y-ás. Finnið svo og teiknið jöfnu
bestu línu inn á myndina (sbr. <a class="reference internal" href="#jafna-bestu-linu"><span class="std std-numref">verkefni 25</span></a>)</p></li>
<li><p>Miðtölu (<em>median</em>) vigurs <cite>x</cite> má finna með <cite>np.median(x)</cite> (helmingur staka
<cite>x</cite> er minni en miðtalan og helmingur stærri). Hver er miðtala aldurs
körfuboltamannanna. Notið miðtöluna til að skipta gögnunum í tvennt (með
rökvísun), <em>yngri</em> og <em>eldri</em>. Finnið meðalhæð þeirra yngri og þeirra eldri.</p></li>
</ol>
</section>
<section id="kinverskt-jofnuhneppi">
<h1><span class="section-number">28  </span>Kínverskt jöfnuhneppi<a class="headerlink" href="#kinverskt-jofnuhneppi" title="Permalink to this heading"></a></h1>
<p>Hér er dæmi úr gömlu kínversku handriti frá því á fyrstu öld f.Kr. Leysið það með NumPy:</p>
<blockquote>
<div><p><em>Nokkrir ætla að leggja í púkk til að kaupa hlut. Ef hver borgar átta peninga
eru þrír peningar afgangs en ef hver borgar sjö vantar fjóra upp á. Hve
margir eru kaupendur og hvað kostar hluturinn?</em></p>
</div></blockquote>
</section>
<section id="fjarlaeg-milli-borga">
<h1><span class="section-number">29  </span>Fjarlægð milli borga<a class="headerlink" href="#fjarlaeg-milli-borga" title="Permalink to this heading"></a></h1>
<figure class="align-right" style="width: 7cm">
<img alt="../_images/jord.png" src="../_images/jord.png" />
</figure>
<p>Ef sett er hnitakerfi í gegn um miðju jarðar þá verður þrívíður vigur sem byrjar
í miðjunni og endar á stað á yfirborðinu með lengd <span class="math notranslate nohighlight">\(l\)</span> og breidd
<span class="math notranslate nohighlight">\(b\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\pmatrix{R\sin l \cos b\\R\cos l \cos b\\R\sin b}\end{split}\]</div>
<p>þar sem <span class="math notranslate nohighlight">\(R\)</span> er radíus jarðar, <span class="math notranslate nohighlight">\(R \approx 6370\ \text{km}\)</span>. Í
stærðfræðigreiningu eru <span class="math notranslate nohighlight">\(R\)</span>, <span class="math notranslate nohighlight">\(l\)</span> og <span class="math notranslate nohighlight">\(b\)</span> kölluð
kúluhnit (<em>spherical coordinates</em>). Hnattstaða Reykjavíkur er u.þ.b. 64°N og
22°W, og hattstaða London u.þ.b. 51.5°N og 0°W.</p>
<p>Horn <span class="math notranslate nohighlight">\(\theta\)</span> milli vigra <span class="math notranslate nohighlight">\(x\)</span> og <span class="math notranslate nohighlight">\(y\)</span> má reikna með:</p>
<div class="math notranslate nohighlight">
\[\theta = \arccos\frac{x\cdot y}{\|x\| \|y\|}\]</div>
<ol class="arabic">
<li><p>Reiknið hornið milli Reykjavíkur og London mælt frá miðju jarðar.</p></li>
<li><p>Lengd hringboga í hring með radíus <span class="math notranslate nohighlight">\(r\)</span> sem spannar horn sem er
<span class="math notranslate nohighlight">\(\theta\)</span> radíanar er</p>
<div class="math notranslate nohighlight">
\[L = \theta r\]</div>
<p>(sbr. <a class="reference external" href="https://en.wikipedia.org/wiki/Circular_arc">hringbogi á Wikipediu</a>.
Reiknið fjarlægðina milli Reykjavíkur og London (Siri segir 1890 km)</p>
</li>
</ol>
<p>Munið að það þarf að breyta gráðum í radíana og öfugt með <code class="docutils literal notranslate"><span class="pre">math.radians</span></code> og
<code class="docutils literal notranslate"><span class="pre">math.degrees</span></code> (eða np-útgáfum af þessum föllum)</p>
</section>
<section id="aefing-i-tolvugrafik">
<span id="id8"></span><h1><span class="section-number">30  </span>Æfing í tölvugrafík<a class="headerlink" href="#aefing-i-tolvugrafik" title="Permalink to this heading"></a></h1>
<p>Til að teikna flatarmynd sem lýst er með <span class="math notranslate nohighlight">\(2\times n\)</span> fylki (sbr. kafla
<a class="reference internal" href="../kafli12/#fylkjamargfoldun-og-tolvugrafik"><span class="std std-numref">12.1</span></a>) og til að hliðra slíkri mynd má nota
eftirfarandi föll:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">teikna_fylki</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
   <span class="c1"># Teiknar 2 x n flatarmyndarfylki</span>
   <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">hliðra</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
   <span class="c1"># Leggur h við alla dálka A</span>
   <span class="k">return</span> <span class="n">A</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">h</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>Seinna fallið notar það trix að byrja á að breyta h í 2×1 fylki, og afgangurinn
gerist sjálfkrafa. Þegar tölvuteikning er hugsuð sem teikning af
myndum í hnitakerfi fer oft best á að láta einingar á x- og y-ás vera jafnar.
Það fæst með skipuninni <code class="docutils literal notranslate"><span class="pre">plt.axis(&quot;equal&quot;)</span></code> (sem er því miður ekki hægt að setja í
byrjunarreit–það er eiginlega Matplotlib-lús)</p>
<p>Hér er <a class="reference external" href="https://colab.research.google.com/drive/1Rj_lfG6Lhmjh8AuZuhsvbX_Q_BW_wYQU">vinnubók</a>
sem nota má til að leysa eftirfarandi verkefni:</p>
<ol class="arabic">
<li><p><strong>Flatarmynd lýst með 2xn fylki.</strong> Búið til fylkið</p>
<div class="math notranslate nohighlight">
\[\begin{split}M = \begin{pmatrix}
0 &amp; 3 &amp; 3 &amp; 0 &amp; 0 &amp; \text{nan} &amp; 1 &amp; 2 \\
0 &amp; 0 &amp; 2 &amp; 2 &amp; 0 &amp; \text{nan} &amp; 1 &amp; 1
\end{pmatrix}\end{split}\]</div>
<p>og teiknið myndina sem það lýsir (rétthyrningur með striki). Notið svo
30°-skekkingarfylki til að breyta honum í samsíðung og teiknið hann.</p>
</li>
<li><p><strong>Snúningsfylki.</strong> Skrifið fall sem skilar snúningsfylki fyrir almennt horn
og snúningspunktinn <span class="math notranslate nohighlight">\((0,0)\)</span>. Notið það til að snúa rétthyrningnum í
lið 1 og teiknið útkomuna.</p></li>
<li><p><strong>Sammiðja rétthyrningar.</strong> Búið til fylki fyrir rétthyrning sem er 5 x 3 að
stærð með minni rétthyrning sem er 3 x 1 að stærð í miðjunni (stærri
rétthyrningurinn hefur neðra vinstra horn í <span class="math notranslate nohighlight">\((0,0)\)</span> en sá minni í
<span class="math notranslate nohighlight">\((1,1)\)</span>). Teiknið myndina sem kemur út með <code class="docutils literal notranslate"><span class="pre">teikna_fylki</span></code>.</p></li>
<li><p><strong>Þríhyrningur með hæð.</strong> Búið til fylki T sem lýsir þríhyrningi með hornpunkta
<span class="math notranslate nohighlight">\(A = (1,0)\)</span>, <span class="math notranslate nohighlight">\(B = (3,2)\)</span> og <span class="math notranslate nohighlight">\(C = (4,0)\)</span> með lóðréttu striki (hæð)
frá <span class="math notranslate nohighlight">\(B\)</span> niður á hliðina <span class="math notranslate nohighlight">\(AC\)</span>. Teiknið.</p></li>
<li><p><strong>Hliðra–snúa–hliðra.</strong> Búið til fall sem notar snúningsfylkisfallið úr lið 2
ásamt fallinu <cite>hliðra</cite> til að snúa um almennt horn og almennan punkt. Notið
það til að snúa þríhyrningnum í lið 4 um 180° um punktinn <span class="math notranslate nohighlight">\(B\)</span> og teiknið bæði
upphaflega þríhyrninginn og þann snúna inn á sömu mynd.</p></li>
<li><p><strong>Snúa–spegla–snúa.</strong> Búið nú til fall sem skilar fylki sem speglar um gefna
línu <span class="math notranslate nohighlight">\(y = ax\)</span> með því að snúa, spegla og snúa til baka (notið
fylkjamargföldun). Hornið sem línan myndar við x-ás fæst með <span class="math notranslate nohighlight">\(\arctan
a\)</span>. Prófið að spegla þríhyrningnum í lið 4 um línuna <span class="math notranslate nohighlight">\(y = x\)</span>.</p></li>
</ol>
<p><strong>Athugið:</strong> Í lið 2 skilar fallið snúningsfylki (t.d. R), og svo má margfalda
myndafylki með því til að snúa myndinni (t.d. <code class="docutils literal notranslate"><span class="pre">teikna_fylki(R</span> <span class="pre">&#64;</span> <span class="pre">mynd)</span></code>. Sama
framgangsmáta má nota í lið 6, en í lið 5 þarf myndafylkið að vera stiki (t.d.
<code class="docutils literal notranslate"><span class="pre">hiðra_snúa_hliðra(mynd,</span> <span class="pre">horn,</span> <span class="pre">punktur)</span></code> því ekki er hægt að skeyta saman
hliðrun og margföldun saman í eina fylkjaaðgerð.</p>
</section>
<section id="grannafylki-og-legufylki">
<h1><span class="section-number">31  </span>Grannafylki og legufylki<a class="headerlink" href="#grannafylki-og-legufylki" title="Permalink to this heading"></a></h1>
<p>Stefnt net hefur 5 hnúta og eftirfarandi 7 leggi:</p>
<blockquote>
<div><p><cite>•</cite> frá hnút 1 til 2 og 3 <br>
<cite>•</cite> frá 2 til 3 og 4 <br>
<cite>•</cite> frá 3 til 4 og 5 <br>
<cite>•</cite> frá 4 til 5</p>
</div></blockquote>
<p>Í leggjunum er flæði 2 l/s nema í þeim síðassttalda, þar flæða 4 l/s.</p>
<ol class="arabic simple">
<li><ol class="arabic simple">
<li><p>Teiknið netið</p></li>
<li><p>Finnið grannafylkið <span class="math notranslate nohighlight">\(A\)</span></p></li>
<li><p>Reiknið <span class="math notranslate nohighlight">\(A^2\)</span> og <span class="math notranslate nohighlight">\(A^3\)</span> og ákvarðið í framhaldi heildarfjölda
mismunandi vega með lengd 3 í netinu</p></li>
<li><p>Notið fylkjaveldi og samlagningu til að finna heildarfjölda vega frá 1 til 5</p></li>
</ol>
</li>
<li><ol class="arabic simple">
<li><p>Finnið legufylki netsins, <span class="math notranslate nohighlight">\(L\)</span>, miðað við að leggirnir séu tölusettir
í sömu röð og þeir eru taldir upp að ofan.</p></li>
<li><p>Notið flæðisvarðveislujöfnuna til að ákvarða hvaða hnútar eru lindir og
ósar og hve mikið streymir inn og út þar.</p></li>
</ol>
</li>
</ol>
</section>
<section id="leslie-fylki-fyrir-fjogur-ar">
<h1><span class="section-number">32  </span>Leslie-fylki fyrir fjögur ár<a class="headerlink" href="#leslie-fylki-fyrir-fjogur-ar" title="Permalink to this heading"></a></h1>
<p>Liði 1 og 2-1 má leysa hvort sem er með NumPy eða á blaði, en fyrir liði 2-2 og
2-3 borgar sig líklega að nota NumPy. Tegund nokkur nær mest 4 ára aldri og
verður kynþroska 1 árs. Að jafnaði eignast hver eins árs, annar hver tveggja
ára, og þriðji hver þriggja ára eitt afkvæmi. Helmingur núll ára, 70% eins árs
og 40% tveggja ára lifa til næsta árs (en sem sé enginn þeirra sem eru þriggja
ára). Í upphafi eru 1000 núll ára, 1000 eins árs og 1000 tveggja ára, en aðeins
500 þriggja ára.</p>
<ol class="arabic simple">
<li><p>Finnið Leslie fylkið.</p></li>
<li><ol class="arabic simple">
<li><p>Hver er stofnstærðin eftir eitt ár?</p></li>
<li><p>Hver er stofnstærðin eftir 10 ár?</p></li>
<li><p>Fjölgar í það óendanlega eða deyr stofninn að lokum út?</p></li>
</ol>
</li>
</ol>
</section>
<section id="leslie-fylki-og-grof">
<h1><span class="section-number">33  </span>Leslie-fylki og gröf<a class="headerlink" href="#leslie-fylki-og-grof" title="Permalink to this heading"></a></h1>
<p>Tegund lifir að hámarki í 5 ár. Fæðingartíðni og dánartíðni og upphafleg aldursdreifing er sem hér segir:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>aldur</p></th>
<th class="head"><p>fæðingartíðni</p></th>
<th class="head"><p>dánartíðni</p></th>
<th class="head"><p>fjöldi</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0–1</p></td>
<td><p>0.1</p></td>
<td><p>0.1</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-odd"><td><p>1–2</p></td>
<td><p>0.3</p></td>
<td><p>0.1</p></td>
<td><p>200</p></td>
</tr>
<tr class="row-even"><td><p>2–3</p></td>
<td><p>0.5</p></td>
<td><p>0.2</p></td>
<td><p>300</p></td>
</tr>
<tr class="row-odd"><td><p>3–4</p></td>
<td><p>0.4</p></td>
<td><p>0.4</p></td>
<td><p>200</p></td>
</tr>
<tr class="row-even"><td><p>4–5</p></td>
<td><p>0.1</p></td>
<td><p>1.0</p></td>
<td><p>200</p></td>
</tr>
</tbody>
</table>
<ol class="arabic">
<li><p>Búið til Lesley-fylki (með NumPy) og ákvarðið stofnstærð í byrjun og á hverju
ári næstu sjö ár.</p></li>
<li><p>Mun stofninn að lokum deyja út?</p></li>
<li><p>Teiknið mynd af fæðingar- og dánartíðninni á þessa leið (línubreidd er 3 punktar):</p>
<figure class="align-default" style="width: 10cm">
<img alt="../_images/leslie-graf.jpg" src="../_images/leslie-graf.jpg" />
</figure>
</li>
<li><p>Teiknið mynd af þróun stofnstærðarinnar næstu 20 ár</p></li>
</ol>
</section>
<section id="mannfjoldaspa-fyrir-island">
<h1><span class="section-number">34  </span>Mannfjöldaspá fyrir Ísland<a class="headerlink" href="#mannfjoldaspa-fyrir-island" title="Permalink to this heading"></a></h1>
<p>Í skránni <a class="reference external" href="https://cs.hi.is/python/aldursdreifing.txt">https://cs.hi.is/python/aldursdreifing.txt</a> eru gögn um mannfjölda á Íslandi
árið 2020, fæðingartíðni og dánartíðni, og fjölda aðfluttra umfram brottflutta
eftir aldri.</p>
<ol class="arabic simple">
<li><p>Notið Leslie-fylki til að spá mannfjölda á Íslandi 2020–2050 ef ekki er tekið
tillit til innflytjenda. Skrifið töflu yfir heildarfjöldann á 5 ára fresti.</p></li>
<li><p>Bætið við áhrifum innflytjenda ef gert er ráð fyrir að árlegur fjöldi
aðfluttra umfram brottflutta á hverjum aldri haldist óbreyttur.</p></li>
<li><p>Teiknið súlurit af aldursdreifingunni í byrjun og lok tímabilsins miðað við
niðurstöðu úr 2. lið (eða 1. lið ef þið sleppið 2. lið). Teiknið líka línurit
af heildarmannfjöldanum (með ár á x-ás).</p></li>
<li><p>Breytið spánni ef reiknað er með að hlutfallslegur fjöldi aðfluttra umfram
brottflutta á hverjum aldri sem hlutfall af heildarmannfjöldanum haldist
óbreyttur. Teiknið þrjú línurit af af heildarmannfjöldanum skv. liðum 1, 2 og
4 inn á sömu mynd.</p></li>
<li><p>Búið til textareit og skrifið nokkrar (t.d. 10) línur um niðurstöðurnar frá
eigin brjósti. Hafið einhverjar tölulegar upplýsingar fengnar með Python með.
Þið megið líka alveg bæta einhverju við sem þið finnið með netleit Það eru
viljandi ekki gefin frekari fyrirmæli heldur er ætlast til að þið notið
hugmyndaflugið.</p></li>
</ol>
<div class="athugid admonition">
<p class="admonition-title">Athugasemd:</p>
<p>Tölurnar í textaskránni eru búnar til með upplýsingum af vef Hagstofu Íslands
með smávegis föndri. Eins og segir er mannfjöldinn miðaður við árið 2020 en
hinar tölurnar eru 5 ára meðaltal.</p>
</div>
</section>
<section id="poker">
<h1><span class="section-number">35  </span>Póker<a class="headerlink" href="#poker" title="Permalink to this heading"></a></h1>
<p>Hér er reitur með (hluta af) lausn á æfingunni í kafla
<a class="reference internal" href="../kafli13/#random-einingin"><span class="std std-numref">13.1</span></a>, sem metur með hermun líkurnar á því að fá tvær
tvennur í póker. Fallið <code class="docutils literal notranslate"><span class="pre">pókerhönd</span></code> er endurbætt miðað við æfinguna til að
tryggja að sama spil geti ekki komið fyrir tvisvar. Fræðilegar líkur á tveimur
tvennum er 4.75% og ef keyrt er með háu gildi á <code class="docutils literal notranslate"><span class="pre">n</span></code> fæst hlutfall nálægt því.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">sample</span>

<span class="k">def</span> <span class="nf">pókerhönd</span><span class="p">():</span>
  <span class="n">stokkur</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">14</span><span class="p">)]</span>
  <span class="k">return</span> <span class="n">sample</span><span class="p">(</span><span class="n">stokkur</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">með_tvær_tvennur</span><span class="p">(</span><span class="n">hönd</span><span class="p">):</span>
  <span class="c1"># Skilar sönnu ef hönd geymir tvær tvennur</span>
  <span class="n">gildi</span> <span class="o">=</span> <span class="p">[</span><span class="n">spil</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">spil</span> <span class="ow">in</span> <span class="n">hönd</span><span class="p">]</span>
  <span class="n">M</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">gildi</span><span class="p">)</span>                 <span class="c1"># búa til mengi</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">M</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
    <span class="k">return</span> <span class="kc">False</span>                 <span class="c1"># það verða að vera 3 gildi</span>
  <span class="k">for</span> <span class="n">spil</span> <span class="ow">in</span> <span class="n">M</span><span class="p">:</span>
    <span class="n">talning</span> <span class="o">=</span> <span class="n">gildi</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">spil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">talning</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span> <span class="c1"># og ekkert spil má koma 3svar</span>
  <span class="k">return</span> <span class="kc">True</span>                    <span class="c1"># það eru tvær tvennur!</span>

<span class="k">def</span> <span class="nf">hlutfall_með_2x2</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="n">talning</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">hönd</span> <span class="o">=</span> <span class="n">pókerhönd</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">með_tvær_tvennur</span><span class="p">(</span><span class="n">hönd</span><span class="p">):</span>
      <span class="n">talning</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="n">talning</span><span class="o">/</span><span class="n">n</span>

<span class="n">hf</span> <span class="o">=</span> <span class="n">hlutfall_með_2x2</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Hlutfall með tvær tvennur: </span><span class="si">{</span><span class="n">hf</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-right" id="id12" style="width: 7cm">
<img alt="../_images/jacks-and-queens.jpg" src="../_images/jacks-and-queens.jpg" />
<figcaption>
<p><span class="caption-number">Mynd 35.1: </span><span class="caption-text">Fullt hús</span><a class="headerlink" href="#id12" title="Varanlegur hlekkur á þessa mynd"></a></p>
</figcaption>
</figure>
<p>Í lausninni er spil er táknað með pari <code class="docutils literal notranslate"><span class="pre">(sort,</span> <span class="pre">gildi)</span></code> þar sem sortin er á
bilinu 1–4 (hjarta, spaði, tígull, lauf) og gildi er á bilinu 1–13 (ás,
tvistur,…, kóngur).</p>
<p>Skrifið föll sem kanna hvort hönd geymi:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>tvennu</p></li>
<li><p>þrennu</p></li>
<li><p>fullt hús (3 + 2)</p></li>
<li><p>lit (t.d. eintómir spaðar)</p></li>
</ol>
</div></blockquote>
<p>Hermið slíkar hendur og berið saman við raunverulegar líkur fengnar af netinu.</p>
</section>
<section id="staer-jarskjalfta">
<h1><span class="section-number">36  </span>Stærð jarðskjálfta<a class="headerlink" href="#staer-jarskjalfta" title="Permalink to this heading"></a></h1>
<p>Stærð jarðskjálfta (nánar tiltekið vægisstærð, <em>moment magnitude</em>) er gefin með formúlunni</p>
<div class="math notranslate nohighlight">
\[M = \frac{2}{3}(\log_{10} M_0 - 9.1)\]</div>
<p>þar sem <span class="math notranslate nohighlight">\(M_0\)</span> er heildavægi (orka) skjálftans í newtonmetrum (Nm) og <span class="math notranslate nohighlight">\(\log_{10}\)</span> er logri með grunntölu 10.</p>
<ol class="arabic">
<li><p>Skrifið fall sem reiknar (og skilar) stærð jarðskjálfta fyrir gefið vægi.
Hafið skjölunarstreng með. Prófið með <span class="math notranslate nohighlight">\(M_0 = 10^{16}\)</span>, sem á að skila
<span class="math notranslate nohighlight">\(M = 4.6\)</span>.</p></li>
<li><p>20. október 2020 varð stór jarðskjálfti nálægt Krýsuvík. Á netinu má finna
þrjár mælingar á orku skjálftans frá þremur alþjóðlegum
jarðskjálftamiðstöðvum:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 33%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Miðstöð</p></td>
<td><p>Land</p></td>
<td><p><span class="math notranslate nohighlight">\(M_0\)</span></p></td>
</tr>
<tr class="row-even"><td><p>USGS</p></td>
<td><p>Bandaríkin</p></td>
<td><p><span class="math notranslate nohighlight">\(3.20 \cdot 10^{17}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>GCMT</p></td>
<td><p>Bandaríkin</p></td>
<td><p><span class="math notranslate nohighlight">\(3.29 \cdot 10^{17}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>GFZ</p></td>
<td><p>Þýskaland</p></td>
<td><p><span class="math notranslate nohighlight">\(2.90 \cdot 10^{17}\)</span></p></td>
</tr>
</tbody>
</table>
<p>Skrifið forrit sem býr til uppflettitöflu <code class="docutils literal notranslate"><span class="pre">stærð</span></code> með orku
jarðskjálftanna skv. miðstövunum þremur (þannig t.d. að <code class="docutils literal notranslate"><span class="pre">stærð[&quot;USGS&quot;]</span></code> sé
<code class="docutils literal notranslate"><span class="pre">3.20e17</span></code>), og skrifar í framhaldi út töflu yfir niðurstöðuna sem byrjar
svona:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Miðstöð   Stærð
–––––––––––––––
USGS      5.60
...
</pre></div>
</div>
</li>
</ol>
</section>
<section id="valkvaeir-stikar">
<h1><span class="section-number">37  </span>Valkvæðir stikar<a class="headerlink" href="#valkvaeir-stikar" title="Permalink to this heading"></a></h1>
<p>Föll geta haft <strong>valkvæða stika</strong> sem taka sjálfgefin gildi ef þeim er sleppt.
Þannig hefur print-fallið tvo valkvæða stika, <code class="docutils literal notranslate"><span class="pre">sep</span></code> og <code class="docutils literal notranslate"><span class="pre">end</span></code>, sbr. kafla
<a class="reference internal" href="../kafli04/#utprentun"><span class="std std-numref">4.4</span></a>. Eftirfarandi dæmi, sem reiknar n-tu rót, sýnir hvernig hægt
er að skilgreina fall með valkvæðan stika. Fallið reiknar kvaðratrót ef
seinna viðfanginu er sleppt og prentar því út <code class="docutils literal notranslate"><span class="pre">rætur:</span> <span class="pre">4</span> <span class="pre">og</span> <span class="pre">2</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="k">def</span> <span class="nf">rót</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>  <span class="c1"># skilar n-tu rót (n=2 er sjálfgefið)</span>
   <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">n</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">rót</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">rót</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;rætur: </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2"> og </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic">
<li><p>Skrifið svona fall fyrir logra (<em>logarithm</em>) með grunntölu <span class="math notranslate nohighlight">\(a\)</span> skv. formúlunni:</p>
<div class="math notranslate nohighlight">
\[\log_a(x) = \frac{\ln x}{\ln a}\]</div>
<p>þar sem <span class="math notranslate nohighlight">\(ln\)</span> er náttúrulegi logrinn, sem í Python er reiknaður með
<code class="docutils literal notranslate"><span class="pre">math.log(x)</span></code>. Látið a vera valkvæðan stika með sjálfgefið gildi 10. Prófið
að reikna <span class="math notranslate nohighlight">\(\log_{10}(100)\)</span>, <span class="math notranslate nohighlight">\(\log_3(243)\)</span> og <span class="math notranslate nohighlight">\(\log_{2}(128)\)</span> sem ætti
að gefa 2, 5 og 7.</p>
</li>
<li><p>Skrifið fall sem prentar lista af tölum með nauk stöfum fyrir aftan kommu með
nauk = 4 sjálfgefið. Ef það fær listann:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">[[math.exp(x)</span> <span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">range(6)]</span></code></p>
</div></blockquote>
<p>og nauk = 3 ætti það að prenta út <code class="docutils literal notranslate"><span class="pre">[1.000,</span> <span class="pre">2.718,</span> <span class="pre">7.389,</span> <span class="pre">20.086,</span> <span class="pre">54.598,</span> <span class="pre">148.413]</span></code>.</p>
</li>
</ol>
</section>
<section id="daemi-af-profi-i-tolvunarfraei-1a-2020">
<h1><span class="section-number">38  </span>Dæmi af prófi í Tölvunarfræði 1a 2020<a class="headerlink" href="#daemi-af-profi-i-tolvunarfraei-1a-2020" title="Permalink to this heading"></a></h1>
<p>(þetta eru öll dæmin sem voru á prófinu, hvert þeirra gilti 20%)</p>
<p class="rubric">A. Efnisspurningar</p>
<ol class="arabic simple">
<li><p>Gerið í stuttu máli grein fyrir hugtökunum <em>viðfang</em> (<em>argument</em>) og <em>stiki</em>
(<em>parameter</em>), bæði með skilgreiningum og dæmi.</p></li>
<li><p>Segið frá listum og samstæðum (<em>tuples</em>): hverning má búa til lista og
samstæðu og hvað felst í að listar eru breytanlegir en samstæður ekki.
Útskýrið hvernig nota má par (samstæða tveggja gilda) til að láta fall skila
tveimur niðurstöðum (t.d. með dæmi). Nefnið tvær aðgerðir sem beita má á
lista en ekki samstæður.</p></li>
<li><p>Útskýrið, t.d. með dæmum, muninn á aðgerðunum + og * þegar þeim er beitt á
1. Lista
2. NumPy vigra</p></li>
<li><p>[<strong>ATH: Þetta dæmi er úr námsefni sem er ekki (enn) í fyrirlestrarnótunum</strong>].
Gerið grein fyrir hugtakinu endurkvæmt fall (<em>recursive function</em>).
Skilgreinið það, segið frá hvernig komið er í veg fyrir að forrit með
endurkvæmu falli keyri endalaust, og gefið dæmi um endurkvæmt fall.</p></li>
</ol>
<p class="rubric">B. Vaxtareikningur</p>
<ol class="arabic">
<li><p>Skrifið fall með stika u, p, k, m sem reiknar heildarvexti, <span class="math notranslate nohighlight">\(v\)</span>,
af upphæð <span class="math notranslate nohighlight">\(u\)</span> sem er á <span class="math notranslate nohighlight">\(p\)</span>% vöxtum í <span class="math notranslate nohighlight">\(k\)</span> ár og
<span class="math notranslate nohighlight">\(m\)</span> mánuði skv. formúlunni</p>
<div class="math notranslate nohighlight">
\[v = u(1 + a)^k\left(1 + \frac{am}{12}\right) - u
\text{, þar sem }a = \frac{p}{100}\]</div>
<p>Skerið af aura (með fallinu <code class="docutils literal notranslate"><span class="pre">int</span></code>), hafið viðeigandi skjölunarstreng í
fallinu, og prófið það með því að reikna 2% vexti af 10000 kr. í 3 ár og 4
mánuði (ætti að gefa 682 kr.).</p>
</li>
<li><p>Reiknið heildarvexti til dagsins í dag ef 25000 kr. hefðu verið lagðar inn
á 3% vexti á fæðingardegi ykkar (nálgið aldur ykkar í heilan mánuð), og
reiknið jafnframt út hlutfall vaxtanna af upphaflegri upphæð. Notið
f-strengi til að skrifa niðurstöðurnar með hæfilegum skýringartexta.</p></li>
<li><p>Skrifið fall sem ákvarðar hve mörg ár og mánuði það tekur upphæð á <span class="math notranslate nohighlight">\(n\)</span>%
vöxtum að tvöfaldast (notið t.d. tvöfalda lykkju, og <code class="docutils literal notranslate"><span class="pre">return</span></code> á viðeigandi
stað). Prófið með n = 13 (ætti að gefa 5 ár og 8 mánuði) og með <span class="math notranslate nohighlight">\(n\)</span> gefnu
með fæðingarmánuði ykkar (t.d. 8 fyrir ágúst).</p></li>
</ol>
<p class="rubric">C. Kennitölur og vartöluprófun</p>
<p>Skv. Wikipediu er kennitala númer á forminu DDMMÁÁ-NNPÖ þar sem DDMMÁÁ er
fæðingardagur, -mánuður og -ár, NN er slembitala, P er prófsumma eða vartala, og
Ö táknar fæðingaröld. Til að finna vartöluna eru fyrstu átta tölurnar
margfaldaðar með tölunum 3, 2, 7, 6, 5, 4, 3 og 2 frá vinstri til hægri,
margfeldin eru svo lögð saman og afgangur þegar deilt er í summuna með 11
fundinn. Ef afgangurinn er 0 er vartalan 0, ef hann er 1 er talan ónothæf sem
kennitala, en annars fæst vartalan með því að draga afganginn frá 11.</p>
<ol class="arabic">
<li><p>Skrifið fall sem ákvarðar hvort kennitala sem gefin er með 10 stafa streng
(án bandstriks) sé með rétta vartölu og skilar svarinu sem rökgildi (<code class="docutils literal notranslate"><span class="pre">True</span></code>
eða <code class="docutils literal notranslate"><span class="pre">False</span></code>). Prófið með <code class="docutils literal notranslate"><span class="pre">&quot;9999999999&quot;</span></code> og líka með eigin kennitölu.</p></li>
<li><p>Í skránni <a class="reference external" href="https://cs.hi.is/python/kennitolur.txt">https://cs.hi.is/python/kennitolur.txt</a> eru skáldaðar upplýsingar um 15
próftaka, prófnúmer, kennitölur og nöfn. Lesið skrána inn í þrjá lista með
því að nota <code class="docutils literal notranslate"><span class="pre">np.loadtxt(...)</span></code> og birtið töflu með innihaldinu.</p></li>
<li><p>Vartöluprófið kennitölurnar (í for-lykkju). Ein þeirra stenst ekki prófun.
Hvaða nemandi á hana?</p></li>
<li><p>Hér er listi yfir mánaðarnöfn:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">['janúar',</span> <span class="pre">'febrúar',</span> <span class="pre">'mars',</span> <span class="pre">'apríl',</span> <span class="pre">'maí',</span> <span class="pre">'júní',</span> <span class="pre">'júlí',</span></code>
<code class="docutils literal notranslate"><span class="pre">'ágúst',</span> <span class="pre">'september',</span> <span class="pre">'október',</span> <span class="pre">'nóvember',</span> <span class="pre">'desember']</span></code>.</p>
</div></blockquote>
<p>Skrifið fall sem tekur við kennitölu og skilar tilsvarandi fæðingardegi með
sniði: „17. ágúst 1958“. Prófið með eigin kennitölu, og líka kennitölu
einhvers í skránni sem fæddur er á annari öld.</p>
</li>
</ol>
<p class="rubric">D. Uppflettitöflur</p>
<p>Lesið skrána sem notuðu var í dæmi C inn í þrjá lista eins og gert var þar.</p>
<ol class="arabic">
<li><p>Búið til uppflettitöflu (<em>dictionary</em>) til að fletta upp á prófnúmeri út
frá nafni (nafn er lykill og prófnúmer er gildi).</p></li>
<li><p>Skrifið forrit sem skrifar út lista (með haus) yfir nöfn og prófnúmer í
íslenskri stafrófsröð. Listinn gæti byrjað svona:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>NAFN                         PRÓFNÚMER
Anton Ingi Þórsson             4854
Ágúst Guðni Ingason            6558
</pre></div>
</div>
<p><strong>Leiðbeining:</strong> Notið uppflettitöfluna úr lið 1. Hér á eftir er svo fall sem
nota má fyrir röðunina (með því að nota <cite>key=íslenska</cite> sem viðfang í
<cite>sort</cite> eða <cite>sorted</cite>, sjá <a class="reference internal" href="#raa-i-islenska-stafrofsro"><span class="std std-numref">verkefni 21</span></a>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">íslenska</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
   <span class="c1"># notað sem &#39;key&#39; í sort eða sorted til að raða í íslenska stafrófsröð,</span>
   <span class="c1"># t.d. print(sorted([&#39;ár&#39;,&#39;bára&#39;,&#39;bali&#39;,&#39;akur&#39;], key=íslenska))&quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="p">[</span><span class="n">íslenska</span><span class="o">.</span><span class="n">k</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">]</span>
<span class="n">íslenska</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;aábcdðeéfghiíjklmnoópqrstuúvwxyýzþæö&#39;</span><span class="p">)</span>
<span class="n">íslenska</span><span class="o">.</span><span class="n">k</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">íslenska</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">íslenska</span><span class="o">.</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</li>
<li><p>Hér er listi yfir prímtölur númer 1 til 25:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">P</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">59</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">71</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">89</span><span class="p">,</span><span class="mi">97</span><span class="p">]</span>
</pre></div>
</div>
<p>Búið til uppflettitöflu, <code class="docutils literal notranslate"><span class="pre">nrp</span></code>, sem hægt er að nota til að fletta upp hvar
gefin prímtala er í röðinni. Ef flett er upp á lyklinum <code class="docutils literal notranslate"><span class="pre">P[i]</span></code> á að fást
gildið <code class="docutils literal notranslate"><span class="pre">i+1</span></code> (ekki <code class="docutils literal notranslate"><span class="pre">i</span></code> af því Python byrjar að telja í 0). Notið
for-lykkju sem rennir í gegn um <code class="docutils literal notranslate"><span class="pre">P</span></code> til að búa til uppflettitöfluna.
Skrifið í framhaldi fall með tvo stika, tölu og <code class="docutils literal notranslate"><span class="pre">nrp</span></code>. Ef talan er stærri
en 99 á fallið að skrifa að hún sé of stór, en annars á það að fletta upp í
uppflettitöflunni og skrifa niðurstöðu uppflettingarinnar. Ef tölunum 13, 16
og 103 er flett upp gæti komið út:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>13 er 6. prímtalan
16 er ekki prímtala
103 er of stór
</pre></div>
</div>
</li>
</ol>
<p class="rubric">E. Teikning falla</p>
<ol class="arabic">
<li><p>Notið Matplotlib til að teikna feril fallsins:</p>
<div class="math notranslate nohighlight">
\[f_a(x) = \frac{(2-x)^{2a}\ln(1+x)}{e^{a}}\]</div>
<p>á bilinu <span class="math notranslate nohighlight">\([0,2]\)</span> þegar <span class="math notranslate nohighlight">\(a=8\)</span>. Gætið þess að ferillinn verði nægilega
sléttur („smooth“), merkið ása með <strong>x</strong> og <strong>y</strong> og setjið titil: <strong>Teikning
falls</strong>. Athugið að í Python heitir náttúrulegi logrinn <code class="docutils literal notranslate"><span class="pre">log</span></code>.</p>
</li>
<li><p>Teiknið nú nýja mynd sem sýnir öll föllin <span class="math notranslate nohighlight">\(f_a(x)\)</span> fyrir <span class="math notranslate nohighlight">\(a = 2, 4, 6, 8\)</span> á
bilinu <span class="math notranslate nohighlight">\([0,2]\)</span>. Frekari fyrirmæli eru:</p>
<ul class="simple">
<li><p>stærð myndar 8 x 4 tommur</p></li>
<li><p><em>dpi</em> = 100</p></li>
<li><p>myndin skal hafa rúðunet, merkingar á ásum og titil</p></li>
<li><p><em>legend</em> skal gefa gildi <span class="math notranslate nohighlight">\(a\)</span></p></li>
<li><p>x-ás skal ná frá 0 til 2 og y-ás frá 0 til 1</p></li>
<li><p>x-hnitin <span class="math notranslate nohighlight">\(0, 0.2,\ldots 2\)</span> á að merkja á ásinn (<em>ticks</em>)</p></li>
</ul>
</li>
</ol>
</section>
<section id="nalgun-vi-pi">
<h1><span class="section-number">39  </span>Nálgun við pí<a class="headerlink" href="#nalgun-vi-pi" title="Permalink to this heading"></a></h1>
<ol class="arabic">
<li><p>Eftirfarandi summa gefur <a class="reference external" href="https://en.wikipedia.org/wiki/Taylor_series#Trigonometric_functions">Taylor-nálgun</a> við
<span class="math notranslate nohighlight">\(\arctan x\)</span> og skekkjan er minni en síðasti liðurinn. Það þýðir að ef
<span class="math notranslate nohighlight">\(x=0.2\)</span> þarf að fara upp í <span class="math notranslate nohighlight">\(n \approx 10\)</span> til að fá 15 rétta
aukastafi, og til að fá 100 rétta aukastafi þarf <span class="math notranslate nohighlight">\(n\approx 70\)</span>.</p>
<div class="math notranslate nohighlight">
\[\arctan x \approx x - \frac{x^3}{3} +\frac{x^5}{5} - \frac{x^7}{7} +
\ldots + \frac{(-1)^n x^{2n+1}}{2n+1}\]</div>
<p>Skrifið fall <code class="docutils literal notranslate"><span class="pre">tayloratan(x,n)</span></code> sem reiknar út summuna. Fallið á að vinna
með tvær breytur, summu og lið, sem í upphafi eru báðar <code class="docutils literal notranslate"><span class="pre">x</span></code>. Farið er í
gegn um lykkju þar sem <code class="docutils literal notranslate"><span class="pre">k</span></code> hleypur í gegn um <span class="math notranslate nohighlight">\(3, 5, \ldots, 2n+1\)</span>. Í
hverri umferð margfaldast liðurinn með <span class="math notranslate nohighlight">\(-x^2\)</span> (<code class="docutils literal notranslate"><span class="pre">liður</span> <span class="pre">*=</span> <span class="pre">-x*x</span></code>) og
svo er <code class="docutils literal notranslate"><span class="pre">liður/k</span></code> lagt við summuna. Prófið með <span class="math notranslate nohighlight">\(x=0.2\)</span> og <span class="math notranslate nohighlight">\(n=4\)</span>
(ætti að gefa &thinsp; <span class="math notranslate nohighlight">\(0.19739550\)</span>) og <span class="math notranslate nohighlight">\(n=10\)</span> (ætti að gefa rétt
gildi með 15 aukastöfum, <span class="math notranslate nohighlight">\(\arctan 0.2 = 0.197395559849881\)</span>)</p>
</li>
<li><p>Árið 1706 sannaði <a class="reference external" href="https://en.wikipedia.org/wiki/John_Machin">John Machin</a>
formúlu fyrir pí:</p>
<div class="math notranslate nohighlight">
\[\frac{\pi}{4} = 4 \arctan \frac{1}{5} - \arctan \frac{1}{239}\]</div>
<p>og notaði hana ásamt arctan-formúlunni að framan til að reikna pí með 100
aukastöfum. Þessi formúla var svo notuð í 275 ár, vel inn á tölvuöld, til
að reikna sífellt betri nálgun við pí. Það var hún sem var notuð árið 1949
til að reikna pí með tölvu <a class="reference external" href="https://link.springer.com/article/10.1186/1687-1847-2013-100">í fyrsta sinn</a>, 2037
aukastafi með tölvunni ENIAC, og árið 1981 var enn verið að nota
Machin-formúluna til að slá nýtt pí-met, 2 milljónir aukastafa.</p>
<p>Python vinnur með kommutölur sem hafa ~16 aukastafi, svo það er fremur
auðvelt að nota framangreinda aðferð til að reikna 15–16 aukastafi í pí (en
dálítið mál að reikna fleiri). Notið fallið <code class="docutils literal notranslate"><span class="pre">tayloratan</span></code> og
Machin-formúluna til að nálga pí með 15 réttum aukastöfum.</p>
</li>
</ol>
</section>
<section id="pandas-aefing">
<h1><span class="section-number">40  </span>Pandas æfing<a class="headerlink" href="#pandas-aefing" title="Permalink to this heading"></a></h1>
<p>Í skránni <a class="reference external" href="https://cs.hi.is/python/kosningar-2021.txt">https://cs.hi.is/python/kosningar-2021.txt</a> eru úrslit nýjustu
Alþingiskosninga (eftir endurtalningu í NV-kjördæmi), og í skránni
<a class="reference external" href="https://cs.hi.is/python/flokksnofn.txt">https://cs.hi.is/python/flokksnofn.txt</a> eru listabókstafir í fyrsta dálki og
þar fyrir aftan eru nöfn flokkanna, sem geta verið tvö eða fleiri orð. Fyrri
skrána er auðvelt að lesa með <code class="docutils literal notranslate"><span class="pre">pd.read_fwf</span></code> en þá seinni er líklega auðveldast
að lesa með <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code> og viðfangi <code class="docutils literal notranslate"><span class="pre">sep=&quot;,\t&quot;</span></code> (það eru tab-tákn á
eftir kommunum í skránni).</p>
<ol class="arabic simple">
<li><p>Lesið kosningaúrslitin og birtið þau.</p></li>
<li><p>Lesið seinni skrána, sameinið við fyrri skrána (með <code class="docutils literal notranslate"><span class="pre">df.join</span></code>) og birtið
kosningaúrslitin með flokksnöfnum.</p></li>
<li><p>Bætið við dálki með hlutfalli atkvæða sem hver flokkur fékk og birtið svo nýja
töflu yfir þá flokka sem fengu meira en 5% (og komu þar með manni á þing).</p></li>
</ol>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../verkefnafyrirsogn/" class="btn btn-neutral float-left" title="V E R K E F N I" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search,
    .wy-nav-top {
        background: #10099F;
    }

    /* Sidebar */
    .wy-nav-side {
        background: #262626;
    }
</style>




</body>
</html>